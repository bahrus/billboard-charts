(function(e,t){if('object'===('undefined'===typeof exports?'undefined':babelHelpers.typeof(exports))&&'object'===('undefined'===typeof module?'undefined':babelHelpers.typeof(module)))module.exports=t(require('d3'));else if('function'===typeof define&&define.amd)define(['d3'],t);else{var n='object'===('undefined'===typeof exports?'undefined':babelHelpers.typeof(exports))?t(require('d3')):t(e.d3);for(var a in n)('object'===('undefined'===typeof exports?'undefined':babelHelpers.typeof(exports))?exports:e)[a]=n[a]}})(this,function(e){var t=Math.sqrt,a=Math.pow,i=Math.abs,n=Math.PI,s=Math.max,r=Math.round,d=Math.min,o=Math.ceil;return function(e){function t(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,i){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var a=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(a,'a',a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=9)}([function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=arguments[1],a;for(a in t)e[a]=t[a];return e}t.__esModule=!0,t.isObject=t.isArray=t.merge=t.getRectSegList=t.removeEvent=t.addEvent=t.extend=t.brushEmpty=t.getBrushSelection=t.isEmpty=t.diffDomain=t.getPathBox=t.sanitise=t.hasValue=t.isString=t.getOption=t.asHalfPixel=t.isFunction=t.ceil10=t.notEmpty=t.isBoolean=t.isUndefined=t.isDefined=t.isValue=void 0;var s=a(5),r=i(s),l=a(2),c=a(3),g=i(c),u=function(e){return'string'===typeof e},p=function(e){return'undefined'!==typeof e},x=function(e){return'undefined'===typeof e||null===e||u(e)&&0===e.length||'object'===('undefined'===typeof e?'undefined':(0,r.default)(e))&&0===Object.keys(e).length},h=function(e){var t=e.getBBox(),a=[];return a.push({x:t.x,y:t.y+t.height}),a.push({x:t.x,y:t.y}),a.push({x:t.x+t.width,y:t.y}),a.push({x:t.x+t.width,y:t.y+t.height}),a},_=!!('addEventListener'in document),f=function(){var e=!1;try{_&&Object.defineProperty&&document.addEventListener('test',null,Object.defineProperty({},'passive',{get:function(){e=!0}}))}catch(t){}return e}(),m=function(e){return e&&e.constructor===Array},y=function(e){return e&&!e.nodeType&&'object'===('undefined'===typeof e?'undefined':(0,r.default)(e))&&!m(e)};t.isValue=function(e){return e||0===e},t.isDefined=p,t.isUndefined=function(e){return'undefined'===typeof e},t.isBoolean=function(e){return'boolean'===typeof e},t.notEmpty=function(e){return!x(e)},t.ceil10=function(e){return 10*o(e/10)},t.isFunction=function(e){return'function'===typeof e},t.asHalfPixel=function(e){return o(e)+0.5},t.getOption=function(e,t,a){return p(e[t])?e[t]:a},t.isString=u,t.hasValue=function(e,t){var a=!1;return Object.keys(e).forEach(function(i){return e[i]===t&&(a=!0)}),a},t.sanitise=function(e){return'string'===typeof e?e.replace(/</g,'&lt;').replace(/>/g,'&gt;'):e},t.getPathBox=function(e){var t=e.getBoundingClientRect(),a=h(e),i=a[0].x,n=d(a[0].y,a[1].y);return{x:i,y:n,width:t.width,height:t.height}},t.diffDomain=function(e){return e[1]-e[0]},t.isEmpty=x,t.getBrushSelection=function(){var e=null,t=l.event;return t&&'BrushEvent'===t.constructor.name?e=t.selection:this.context&&(e=this.context.select('.'+g.default.brush).node())&&(e=(0,l.brushSelection)(e)),e},t.brushEmpty=function(){var e=this.getBrushSelection();return!e||e[0]===e[1]},t.extend=n,t.addEvent=function(e,t,a,i){if(_){var n=i||!1;'object'===('undefined'===typeof i?'undefined':(0,r.default)(i))&&(n=!!f&&i),e.addEventListener(t,a,n)}else e.attachEvent?e.attachEvent('on'+t,a):e['on'+t]=a},t.removeEvent=function(e,t,a){e.removeEventListener?e.removeEventListener(t,a,!1):e.detachEvent?e.detachEvent('on'+t,a):e['on'+t]=null},t.getRectSegList=h,t.merge=function e(t){for(var a=arguments.length,i=Array(1<a?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];if(!i.length||1===i.length&&!i[0])return t;var r=i.shift();return y(t)&&y(r)&&Object.keys(r).forEach(function(a){var i=r[a];y(i)?(!t[a]&&(t[a]={}),t[a]=e(t[a],i)):t[a]=m(i)?i.concat():i}),n.apply(void 0,[t].concat(i))},t.isArray=m,t.isObject=y},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=a(6),s=i(n),r=a(2),d=a(7),l=i(d),c=a(3),u=i(c),g=a(0),p=function(){function e(t){(0,s.default)(this,e);var a=this;a.api=t,a.config=a.getOptions(),a.data={},a.cache={},a.axes={}}return e.prototype.beforeInit=function(){var e=this,t=e.config;(0,g.isFunction)(t.onbeforeinit)&&t.onbeforeinit.call(e)},e.prototype.afterInit=function(){var e=this,t=e.config;(0,g.isFunction)(t.onafterinit)&&t.onafterinit.call(e)},e.prototype.init=function(){var e=this,t=e.config;if(e.initParams(),t.data_url)e.convertUrlToData(t.data_url,t.data_mimeType,t.data_headers,t.data_keys,e.initWithData);else if(t.data_json)e.initWithData(e.convertJsonToData(t.data_json,t.data_keys));else if(t.data_rows)e.initWithData(e.convertRowsToData(t.data_rows));else if(t.data_columns)e.initWithData(e.convertColumnsToData(t.data_columns));else throw Error('url or json or rows or columns is required.')},e.prototype.initParams=function(){var e=this,t=e.config;e.clipId='bb-'+ +new Date+'-clip',e.clipIdForXAxis=e.clipId+'-xaxis',e.clipIdForYAxis=e.clipId+'-yaxis',e.clipIdForGrid=e.clipId+'-grid',e.clipIdForSubchart=e.clipId+'-subchart',e.clipPath=e.getClipPath(e.clipId),e.clipPathForXAxis=e.getClipPath(e.clipIdForXAxis),e.clipPathForYAxis=e.getClipPath(e.clipIdForYAxis),e.clipPathForGrid=e.getClipPath(e.clipIdForGrid),e.clipPathForSubchart=e.getClipPath(e.clipIdForSubchart),e.dragStart=null,e.dragging=!1,e.flowing=!1,e.cancelClick=!1,e.mouseover=!1,e.transiting=!1,e.color=e.generateColor(),e.levelColor=e.generateLevelColor(),e.dataTimeFormat=t.data_xLocaltime?r.timeParse:r.utcParse,e.axisTimeFormat=t.axis_x_localtime?r.timeFormat:r.utcFormat,e.defaultAxisTimeFormat=function(t){var a=t.getMilliseconds()&&'.%L'||t.getSeconds()&&'.:%S'||t.getMinutes()&&'%I:%M'||t.getHours()&&'%I %p'||t.getDay()&&1!==t.getDate()&&'%-m/%-d'||1!==t.getDate()&&'%b %d'||t.getMonth()&&'%-m/%-d'||'%Y/%-m/%-d';return e.axisTimeFormat(a)(t)},e.hiddenTargetIds=[],e.hiddenLegendIds=[],e.focusedTargetIds=[],e.defocusedTargetIds=[],e.xOrient=t.axis_rotated?'left':'bottom',e.yOrient=t.axis_rotated?t.axis_y_inner?'top':'bottom':t.axis_y_inner?'right':'left',e.y2Orient=t.axis_rotated?t.axis_y2_inner?'bottom':'top':t.axis_y2_inner?'left':'right',e.subXOrient=t.axis_rotated?'left':'bottom',e.isLegendRight='right'===t.legend_position,e.isLegendInset='inset'===t.legend_position,e.isLegendTop='top-left'===t.legend_inset_anchor||'top-right'===t.legend_inset_anchor,e.isLegendLeft='top-left'===t.legend_inset_anchor||'bottom-left'===t.legend_inset_anchor,e.legendStep=0,e.legendItemWidth=0,e.legendItemHeight=0,e.currentMaxTickWidths={x:0,y:0,y2:0},e.rotated_padding_left=30,e.rotated_padding_right=t.axis_rotated&&!t.axis_x_show?0:30,e.rotated_padding_top=5,e.withoutFadeIn={},e.intervalForObserveInserted=void 0,e.inputType=e.convertInputType(),e.axes.subx=(0,r.selectAll)([])},e.prototype.initWithData=function(e){var t=this,a=t.config,i=!0;if(t.axis=new l.default(t),t.initPie&&t.initPie(),t.initBrush&&t.initBrush(),t.initZoom&&t.initZoom(),t.selectChart=a.bindto?'function'===typeof a.bindto.node?a.bindto:(0,r.select)(a.bindto):(0,r.selectAll)([]),t.selectChart.empty()&&(t.selectChart=(0,r.select)(document.createElement('div')).style('opacity','0'),t.observeInserted(t.selectChart),i=!1),t.selectChart.html('').classed('bb',!0),t.data.xs={},t.data.targets=t.convertDataToTargets(e),a.data_filter&&(t.data.targets=t.data.targets.filter(a.data_filter)),a.data_hide&&t.addHiddenTargetIds(!0===a.data_hide?t.mapToIds(t.data.targets):a.data_hide),a.legend_hide&&t.addHiddenLegendIds(!0===a.legend_hide?t.mapToIds(t.data.targets):a.legend_hide),t.hasType('gauge')&&(a.legend_show=!1),t.updateSizes(),t.updateScales(),t.x.domain((0,r.extent)(t.getXDomain(t.data.targets))),t.y.domain(t.getYDomain(t.data.targets,'y')),t.y2.domain(t.getYDomain(t.data.targets,'y2')),t.subX.domain(t.x.domain()),t.subY.domain(t.y.domain()),t.subY2.domain(t.y2.domain()),t.orgXDomain=t.x.domain(),t.svg=t.selectChart.append('svg').style('overflow','hidden'),a.interaction_enabled&&t.inputType){var n='touch'===t.inputType;t.svg.on(n?'touchstart':'mouseenter',function(){return a.onover.call(t)}).on(n?'touchend':'mouseleave',function(){return a.onout.call(t)})}t.config.svg_classname&&t.svg.attr('class',t.config.svg_classname);var s=t.svg.append('defs');t.clipChart=t.appendClip(s,t.clipId),t.clipXAxis=t.appendClip(s,t.clipIdForXAxis),t.clipYAxis=t.appendClip(s,t.clipIdForYAxis),t.clipGrid=t.appendClip(s,t.clipIdForGrid),t.clipSubchart=t.appendClip(s,t.clipIdForSubchart),t.updateSvgSize();var d=t.svg.append('g').attr('transform',t.getTranslate('main'));t.main=d,a.subchart_show&&t.initSubchart&&t.initSubchart(),t.initTooltip&&t.initTooltip(),t.initLegend&&t.initLegend(),t.initTitle&&t.initTitle(),d.append('text').attr('class',u.default.text+' '+u.default.empty).attr('text-anchor','middle').attr('dominant-baseline','middle'),t.initRegion(),t.initGrid(),a.clipPath||t.axis.init();var o=d.append('g').attr('class',u.default.chart);if(a.clipPath&&o.attr('clip-path',t.clipPath),a.grid_lines_front&&t.initGridLines(),t.initEventRect(),t.initChartElements(),d.insert('rect',a.zoom_privileged?null:'g.'+u.default.regions).attr('class',u.default.zoomRect).attr('width',t.width).attr('height',t.height).style('opacity','0').on('dblclick.zoom',null),a.axis_x_extent&&t.brush.scale(t.getDefaultExtent()),a.clipPath&&t.axis.init(),t.updateTargets(t.data.targets),i&&(t.updateDimension(),t.config.oninit.call(t),t.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1}),t.config.data_onmin||t.config.data_onmax)){var c=t.getMinMaxData();(0,g.isFunction)(t.config.data_onmin)&&t.config.data_onmin.call(t,c.min),(0,g.isFunction)(t.config.data_onmax)&&t.config.data_onmax.call(t,c.max)}t.bindResize(),t.api.element=t.selectChart.node()},e.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},e.prototype.smoothLines=function(e,t){'grid'===t&&e.each(function(){var e=(0,r.select)(this),t=e.attr('x1'),a=e.attr('x2'),i=e.attr('y1'),n=e.attr('y2');e.attr({x1:o(t),x2:o(a),y1:o(i),y2:o(n)})})},e.prototype.updateSizes=function(){var e=this,t=e.config,a=e.legend?e.getLegendHeight():0,i=e.legend?e.getLegendWidth():0,n=e.isLegendRight||e.isLegendInset?0:a,s=e.hasArcType(),r=t.axis_rotated||s?0:e.getHorizontalAxisHeight('x'),d=t.subchart_show&&!s?t.subchart_size_height+r:0;e.currentWidth=e.getCurrentWidth(),e.currentHeight=e.getCurrentHeight(),e.margin=t.axis_rotated?{top:e.getHorizontalAxisHeight('y2')+e.getCurrentPaddingTop(),right:s?0:e.getCurrentPaddingRight(),bottom:e.getHorizontalAxisHeight('y')+n+e.getCurrentPaddingBottom(),left:d+(s?0:e.getCurrentPaddingLeft())}:{top:4+e.getCurrentPaddingTop(),right:s?0:e.getCurrentPaddingRight(),bottom:r+d+n+e.getCurrentPaddingBottom(),left:s?0:e.getCurrentPaddingLeft()},e.margin2=t.axis_rotated?{top:e.margin.top,right:NaN,bottom:20+n,left:e.rotated_padding_left}:{top:e.currentHeight-d-n,right:NaN,bottom:r+n,left:e.margin.left},e.margin3={top:0,right:NaN,bottom:0,left:0},e.updateSizeForLegend&&e.updateSizeForLegend(a,i),e.width=e.currentWidth-e.margin.left-e.margin.right,e.height=e.currentHeight-e.margin.top-e.margin.bottom,0>e.width&&(e.width=0),0>e.height&&(e.height=0),e.width2=t.axis_rotated?e.margin.left-e.rotated_padding_left-e.rotated_padding_right:e.width,e.height2=t.axis_rotated?e.height:e.currentHeight-e.margin2.top-e.margin2.bottom,0>e.width2&&(e.width2=0),0>e.height2&&(e.height2=0),e.arcWidth=e.width-(e.isLegendRight?i+10:0),e.arcHeight=e.height-(e.isLegendRight?0:10),e.hasType('gauge')&&!t.gauge_fullCircle&&(e.arcHeight+=e.height-e.getGaugeLabelHeight()),e.updateRadius&&e.updateRadius(),e.isLegendRight&&s&&(e.margin3.left=e.arcWidth/2+1.1*e.radiusExpanded)},e.prototype.updateTargets=function(e){var t=this;t.updateTargetsForText(e),t.updateTargetsForBar(e),t.updateTargetsForLine(e),t.hasArcType()&&t.updateTargetsForArc&&t.updateTargetsForArc(e),t.updateTargetsForSubchart&&t.updateTargetsForSubchart(e),t.showTargets()},e.prototype.showTargets=function(){var e=this;e.svg.selectAll('.'+u.default.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style('opacity','1')},e.prototype.redraw=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=arguments[1],a=this,i=a.main,n=a.config,s=a.getShapeIndices(a.isAreaType),d=a.getShapeIndices(a.isBarType),o=a.getShapeIndices(a.isLineType),l=a.hasArcType(),c=a.filterTargetsToShow(a.data.targets),p=a.xv.bind(a),x=(0,g.getOption)(e,'withY',!0),h=(0,g.getOption)(e,'withSubchart',!0),_=(0,g.getOption)(e,'withTransition',!0),f=(0,g.getOption)(e,'withTransform',!1),m=(0,g.getOption)(e,'withUpdateXDomain',!1),y=(0,g.getOption)(e,'withUpdateOrgXDomain',!1),b=(0,g.getOption)(e,'withTrimXDomain',!0),T=(0,g.getOption)(e,'withUpdateXAxis',m),v=(0,g.getOption)(e,'withLegend',!1),A=(0,g.getOption)(e,'withEventRect',!0),w=(0,g.getOption)(e,'withDimension',!0),L=(0,g.getOption)(e,'withTransitionForExit',_),S=(0,g.getOption)(e,'withTransitionForAxis',_),C=_?n.transition_duration:0,D=L?C:0,F=S?C:0,X=t||a.axis.generateTransitions(F),k,I,E,R,Y;if('touch'===a.inputType&&a.hideTooltip(),v&&n.legend_show&&!n.legend_contents_bindto?a.updateLegend(a.mapToIds(a.data.targets),e,X):w&&a.updateDimension(!0),a.isCategorized()&&0===c.length&&a.x.domain([0,a.axes.x.selectAll('.tick').size()]),c.length?(a.updateXDomain(c,m,y,b),!n.axis_x_tick_values&&(E=a.axis.updateXAxisTickValues(c))):(a.xAxis.tickValues([]),a.subXAxis.tickValues([])),n.zoom_rescale&&!e.flow&&(Y=a.x.orgDomain()),a.y.domain(a.getYDomain(c,'y',Y)),a.y2.domain(a.getYDomain(c,'y2',Y)),!n.axis_y_tick_values&&n.axis_y_tick_count&&a.yAxis.tickValues(a.axis.generateTickValues(a.y.domain(),n.axis_y_tick_count,a.isTimeSeriesY())),!n.axis_y2_tick_values&&n.axis_y2_tick_count&&a.y2Axis.tickValues(a.axis.generateTickValues(a.y2.domain(),n.axis_y2_tick_count)),a.axis.redraw(X,l),a.axis.updateLabels(_),(m||T)&&c.length)if(n.axis_x_tick_culling&&E){for(var M=1;M<E.length;M++)if(E.length/M<n.axis_x_tick_culling_max){R=M;break}a.svg.selectAll('.'+u.default.axisX+' .tick text').each(function(t){var e=E.indexOf(t);0<=e&&(0,r.select)(this).style('display',e%R?'none':'block')})}else a.svg.selectAll('.'+u.default.axisX+' .tick text').style('display','block');var z=a.generateDrawArea?a.generateDrawArea(s,!1):void 0,O=a.generateDrawBar?a.generateDrawBar(d):void 0,B=a.generateDrawLine?a.generateDrawLine(o,!1):void 0,P=a.generateXYForText(s,d,o,!0),V=a.generateXYForText(s,d,o,!1);x&&(a.subY.domain(a.getYDomain(c,'y')),a.subY2.domain(a.getYDomain(c,'y2'))),a.updateXgridFocus(),i.select('text.'+u.default.text+'.'+u.default.empty).attr('x',a.width/2).attr('y',a.height/2).text(n.data_empty_label_text).transition().style('opacity',c.length?0:1),a.updateGrid(C),a.updateRegion(C),a.updateBar(D),a.updateLine(D),a.updateArea(D),a.updateCircle(),a.hasDataLabel()&&a.updateText(D),a.redrawTitle&&a.redrawTitle(),a.redrawArc&&a.redrawArc(C,D,f),n.subchart_show&&a.redrawSubchart&&a.redrawSubchart(h,X,C,D,s,d,o),i.selectAll('.'+u.default.selectedCircles).filter(a.isBarType.bind(a)).selectAll('circle').remove(),n.interaction_enabled&&!e.flow&&A&&(a.redrawEventRect(),a.updateZoom&&a.updateZoom()),a.updateCircleY();var W=(a.config.axis_rotated?a.circleY:a.circleX).bind(a),G=(a.config.axis_rotated?a.circleX:a.circleY).bind(a);e.flow&&(I=a.generateFlow({targets:c,flow:e.flow,duration:e.flow.duration,drawBar:O,drawLine:B,drawArea:z,cx:W,cy:G,xv:p,xForText:P,yForText:V})),(C||I)&&a.isTabVisible()?(0,r.transition)().duration(C).each(function(){k=a.generateWait(),[a.redrawBar(O,!0),a.redrawLine(B,!0),a.redrawArea(z,!0),a.redrawCircle(W,G,!0,I),a.redrawText(P,V,e.flow,!0),a.redrawRegion(!0),a.redrawGrid(!0)].reduce(function(e,t){return t.forEach(function(t){e.push(t)}),e},[]).forEach(function(e){k.add(e)})}).call(k,function(){I&&I(),n.onrendered&&n.onrendered.call(a)}):(a.redrawBar(O),a.redrawLine(B),a.redrawArea(z),a.redrawCircle(W,G),a.redrawText(P,V,e.flow),a.redrawRegion(),a.redrawGrid(),n.onrendered&&n.onrendered.call(a)),a.mapToIds(a.data.targets).forEach(function(e){a.withoutFadeIn[e]=!0})},e.prototype.updateAndRedraw=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=this,a=t.config,i;e.withTransition=(0,g.getOption)(e,'withTransition',!0),e.withTransform=(0,g.getOption)(e,'withTransform',!1),e.withLegend=(0,g.getOption)(e,'withLegend',!1),e.withUpdateXDomain=!0,e.withUpdateOrgXDomain=!0,e.withTransitionForExit=!1,e.withTransitionForTransform=(0,g.getOption)(e,'withTransitionForTransform',e.withTransition),t.updateSizes(),e.withLegend&&a.legend_show||(i=t.axis.generateTransitions(e.withTransitionForAxis?a.transition_duration:0),t.updateScales(),t.updateSvgSize(),t.transformAll(e.withTransitionForTransform,i)),t.redraw(e,i)},e.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},e.prototype.isTimeSeries=function(){return'timeseries'===this.config.axis_x_type},e.prototype.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf('category')},e.prototype.isCustomX=function(){var e=this,t=e.config;return!e.isTimeSeries()&&(t.data_x||(0,g.notEmpty)(t.data_xs))},e.prototype.isTimeSeriesY=function(){return'timeseries'===this.config.axis_y_type},e.prototype.getTranslate=function(e){var t=this,a=t.config,i,n;return'main'===e?(i=(0,g.asHalfPixel)(t.margin.left),n=(0,g.asHalfPixel)(t.margin.top)):'context'===e?(i=(0,g.asHalfPixel)(t.margin2.left),n=(0,g.asHalfPixel)(t.margin2.top)):'legend'===e?(i=t.margin3.left,n=t.margin3.top):'x'===e?(i=0,n=a.axis_rotated?0:t.height):'y'===e?(i=0,n=a.axis_rotated?t.height:0):'y2'===e?(i=a.axis_rotated?0:t.width,n=a.axis_rotated?1:0):'subx'===e?(i=0,n=a.axis_rotated?0:t.height2):'arc'===e&&(i=t.arcWidth/2,n=t.arcHeight/2),'translate('+i+', '+n+')'},e.prototype.initialOpacity=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?'1':'0'},e.prototype.initialOpacityForCircle=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?this.opacityForCircle(e):'0'},e.prototype.opacityForCircle=function(e){var t=this.config.point_show?'1':'0';return(0,g.isValue)(e.value)?this.isScatterType(e)?'0.5':t:'0'},e.prototype.opacityForText=function(){return this.hasDataLabel()?'1':'0'},e.prototype.xx=function(e){return this.config.zoom_enabled&&this.zoomScale?e?this.zoomScale(e.x):null:e?this.x(e.x):null},e.prototype.xv=function(e){var t=this,a=e.value;return t.isTimeSeries()?a=t.parseDate(e.value):t.isCategorized()&&'string'===typeof e.value&&(a=t.config.axis_x_categories.indexOf(e.value)),o(t.x(a))},e.prototype.yv=function(e){var t=this,a=e.axis&&'y2'===e.axis?t.y2:t.y;return o(a(e.value))},e.prototype.subxx=function(e){return e?this.subX(e.x):null},e.prototype.transformMain=function(e,t){var a=this,i,n,s;t&&t.axisX?i=t.axisX:(i=a.main.select('.'+u.default.axisX),e&&(i=i.transition())),t&&t.axisY?n=t.axisY:(n=a.main.select('.'+u.default.axisY),e&&(n=n.transition())),t&&t.axisY2?s=t.axisY2:(s=a.main.select('.'+u.default.axisY2),e&&(s=s.transition())),(e?a.main.transition():a.main).attr('transform',a.getTranslate('main')),i.attr('transform',a.getTranslate('x')),n.attr('transform',a.getTranslate('y')),s.attr('transform',a.getTranslate('y2')),a.main.select('.'+u.default.chartArcs).attr('transform',a.getTranslate('arc'))},e.prototype.transformAll=function(e,t){var a=this;a.transformMain(e,t),a.config.subchart_show&&a.transformContext(e,t),a.legend&&a.transformLegend(e)},e.prototype.updateSvgSize=function(){var e=this,t=e.svg.select('.'+u.default.brush+' .overlay'),a=t.size()?t.attr('height'):0;e.svg.attr('width',e.currentWidth).attr('height',e.currentHeight),e.svg.selectAll(['#'+e.clipId,'#'+e.clipIdForGrid]).select('rect').attr('width',e.width).attr('height',e.height),e.svg.select('#'+e.clipIdForXAxis).select('rect').attr('x',e.getXAxisClipX.bind(e)).attr('y',e.getXAxisClipY.bind(e)).attr('width',e.getXAxisClipWidth.bind(e)).attr('height',e.getXAxisClipHeight.bind(e)),e.svg.select('#'+e.clipIdForYAxis).select('rect').attr('x',e.getYAxisClipX.bind(e)).attr('y',e.getYAxisClipY.bind(e)).attr('width',e.getYAxisClipWidth.bind(e)).attr('height',e.getYAxisClipHeight.bind(e)),e.svg.select('#'+e.clipIdForSubchart).select('rect').attr('width',e.width).attr('height',a),e.svg.select('.'+u.default.zoomRect).attr('width',e.width).attr('height',e.height),e.selectChart.style('max-height',e.currentHeight+'px'),e.brush&&e.brush.scale(e.subX,a)},e.prototype.updateDimension=function(e){var t=this;e||(t.config.axis_rotated?(t.axes.x.call(t.xAxis),t.axes.subx.call(t.subXAxis)):(t.axes.y.call(t.yAxis),t.axes.y2.call(t.y2Axis))),t.updateSizes(),t.updateScales(e),t.updateSvgSize(),t.transformAll(!1)},e.prototype.observeInserted=function(e){var t=this;if('undefined'===typeof MutationObserver)return void(console&&console.error&&console.error('MutationObserver not defined.'));var a=new MutationObserver(function(i){i.forEach(function(i){'childList'===i.type&&i.previousSibling&&(a.disconnect(),t.intervalForObserveInserted=window.setInterval(function(){e.node().parentNode&&(window.clearInterval(t.intervalForObserveInserted),t.updateDimension(),t.brush&&t.brush.update(),t.config.oninit.call(t),t.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style('opacity','1'))},10))})});a.observe(e.node(),{attributes:!0,childList:!0,characterData:!0})},e.prototype.bindResize=function(){var e=this,t=e.config;e.resizeFunction=e.generateResize(),e.resizeFunction.add(function(){t.onresize.call(e)}),t.resize_auto&&e.resizeFunction.add(function(){e.resizeTimeout!==void 0&&window.clearTimeout(e.resizeTimeout),e.resizeTimeout=window.setTimeout(function(){delete e.resizeTimeout,e.api.flush()},100)}),e.resizeFunction.add(function(){t.onresized.call(e)}),(0,g.addEvent)(window,'resize',e.resizeFunction)},e.prototype.generateResize=function(){function e(){t.forEach(function(e){return e()})}var t=[];return e.add=function(e){t.push(e)},e.remove=function(e){for(var a=0;a<t.length;a++)if(t[a]===e){t.splice(a,1);break}},e},e.prototype.endall=function(e,t){var a=0;e.each(function(){return++a}).on('end',function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];--a||t.apply.apply(t,[this].concat(i))})},e.prototype.generateWait=function(){var e=[],t=function(t,a){function i(){var s=0;e.forEach(function(e){if(e.empty())return void(s+=1);try{e.transition()}catch(t){s+=1}}),s===e.length?(clearTimeout(n),a&&a()):n=setTimeout(i,20)}var n=void 0;i()};return t.add=function(t){Array.isArray(t)?e=[].concat(e,t):e.push(t)},t},e.prototype.parseDate=function(e){var t=this,a;return e instanceof Date?a=e:'string'===typeof e?a=t.dataTimeFormat(t.config.data_xFormat)(e):'number'===typeof e&&!isNaN(e)&&(a=new Date(+e)),(!a||isNaN(+a))&&console&&console.error&&console.error('Failed to parse x \''+e+'\' to Date object'),a},e.prototype.isTabVisible=function(){var e;return'undefined'===typeof document.hidden?'undefined'===typeof document.mozHidden?'undefined'===typeof document.msHidden?'undefined'!==typeof document.webkitHidden&&(e='webkitHidden'):e='msHidden':e='mozHidden':e='hidden',!document[e]},e.prototype.convertInputType=function(){var e=this,t=e.config,a=!!t.interaction_inputType_mouse&&'onmouseover'in window,i=!1;return t.interaction_inputType_touch&&(i='ontouchstart'in window||window.DocumentTouch&&document instanceof window.DocumentTouch),i&&'touch'||a&&'mouse'||null},e}();t.default=p,e.exports=t['default']},function(t){t.exports=e},function(e,t){'use strict';t.__esModule=!0;t.default={target:'bb-target',chart:'bb-chart',chartLine:'bb-chart-line',chartLines:'bb-chart-lines',chartBar:'bb-chart-bar',chartBars:'bb-chart-bars',chartText:'bb-chart-text',chartTexts:'bb-chart-texts',chartArc:'bb-chart-arc',chartArcs:'bb-chart-arcs',chartArcsTitle:'bb-chart-arcs-title',chartArcsBackground:'bb-chart-arcs-background',chartArcsGaugeUnit:'bb-chart-arcs-gauge-unit',chartArcsGaugeMax:'bb-chart-arcs-gauge-max',chartArcsGaugeMin:'bb-chart-arcs-gauge-min',selectedCircle:'bb-selected-circle',selectedCircles:'bb-selected-circles',eventRect:'bb-event-rect',eventRects:'bb-event-rects',eventRectsSingle:'bb-event-rects-single',eventRectsMultiple:'bb-event-rects-multiple',zoomRect:'bb-zoom-rect',brush:'bb-brush',focused:'bb-focused',defocused:'bb-defocused',region:'bb-region',regions:'bb-regions',title:'bb-title',tooltipContainer:'bb-tooltip-container',tooltip:'bb-tooltip',tooltipName:'bb-tooltip-name',shape:'bb-shape',shapes:'bb-shapes',line:'bb-line',lines:'bb-lines',bar:'bb-bar',bars:'bb-bars',circle:'bb-circle',circles:'bb-circles',arc:'bb-arc',arcs:'bb-arcs',area:'bb-area',areas:'bb-areas',empty:'bb-empty',text:'bb-text',texts:'bb-texts',gaugeValue:'bb-gauge-value',grid:'bb-grid',gridLines:'bb-grid-lines',xgrid:'bb-xgrid',xgrids:'bb-xgrids',xgridLine:'bb-xgrid-line',xgridLines:'bb-xgrid-lines',xgridFocus:'bb-xgrid-focus',ygrid:'bb-ygrid',ygrids:'bb-ygrids',ygridLine:'bb-ygrid-line',ygridLines:'bb-ygrid-lines',axis:'bb-axis',axisX:'bb-axis-x',axisXLabel:'bb-axis-x-label',axisY:'bb-axis-y',axisYLabel:'bb-axis-y-label',axisY2:'bb-axis-y2',axisY2Label:'bb-axis-y2-label',legendBackground:'bb-legend-background',legendItem:'bb-legend-item',legendItemEvent:'bb-legend-item-event',legendItemTile:'bb-legend-item-tile',legendItemHidden:'bb-legend-item-hidden',legendItemFocused:'bb-legend-item-focused',dragarea:'bb-dragarea',EXPANDED:'_expanded_',SELECTED:'_selected_',INCLUDED:'_included_'},e.exports=t['default']},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=a(6),s=i(n),r=a(1),d=i(r);t.default=function e(t){(0,s.default)(this,e);var a=new d.default(this);this.internal=a,a.loadConfig(t),a.beforeInit(t),a.init(),a.afterInit(t),function e(t,a,i){Object.keys(t).forEach(function(n){a[n]=t[n].bind(i),Object.keys(t[n]).length&&e(t[n],a[n],i)})}(e.prototype,this,this)},e.exports=t['default']},function(e,t){'use strict';function a(e){return e&&'undefined'!==typeof Symbol&&e.constructor===Symbol?'symbol':'undefined'===typeof e?'undefined':babelHelpers.typeof(e)}t.__esModule=!0,t.default=function(e){return e&&'undefined'!==typeof Symbol&&e.constructor===Symbol?'symbol':'undefined'===typeof e?'undefined':a(e)}},function(e,t){'use strict';t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var n=a(5),s=i(n),r=a(6),d=i(r),o=a(2),l=a(0),c=a(8),g=i(c),u=a(3),p=i(u),x=function(){function e(t){(0,d.default)(this,e),this.owner=t}return e.prototype.init=function(){var e=this.owner,t=e.config,a=e.main;e.axes.x=a.append('g').attr('class',p.default.axis+' '+p.default.axisX).attr('clip-path',e.clipPathForXAxis).attr('transform',e.getTranslate('x')).style('visibility',t.axis_x_show?'visible':'hidden'),e.axes.x.append('text').attr('class',p.default.axisXLabel).attr('transform',t.axis_rotated?'rotate(-90)':'').style('text-anchor',this.textAnchorForXAxisLabel.bind(this)),e.axes.y=a.append('g').attr('class',p.default.axis+' '+p.default.axisY).attr('clip-path',t.axis_y_inner?'':e.clipPathForYAxis).attr('transform',e.getTranslate('y')).style('visibility',t.axis_y_show?'visible':'hidden'),e.axes.y.append('text').attr('class',p.default.axisYLabel).attr('transform',t.axis_rotated?'':'rotate(-90)').style('text-anchor',this.textAnchorForYAxisLabel.bind(this)),e.axes.y2=a.append('g').attr('class',p.default.axis+' '+p.default.axisY2).attr('transform',e.getTranslate('y2')).style('visibility',t.axis_y2_show?'visible':'hidden'),e.axes.y2.append('text').attr('class',p.default.axisY2Label).attr('transform',t.axis_rotated?'':'rotate(-90)').style('text-anchor',this.textAnchorForY2AxisLabel.bind(this))},e.prototype.getXAxis=function(e,t,a,i,n,s,r){var d=this.owner,o=d.config,c={isCategory:d.isCategorized(),withOuterTick:n,tickMultiline:o.axis_x_tick_multiline,tickWidth:o.axis_x_tick_width,tickTextRotate:r?0:o.axis_x_tick_rotate,withoutTransition:s,orgXScale:d.x},u=(0,g.default)(c).scale(d.zoomScale||e).orient(t),p=i;return d.isTimeSeries()&&i&&'function'!==typeof i&&(p=i.map(function(e){return d.parseDate(e)})),u.tickFormat(a).tickValues(p),d.isCategorized()&&(u.tickCentered(o.axis_x_tick_centered),(0,l.isEmpty)(o.axis_x_tick_culling)&&(o.axis_x_tick_culling=!1)),u},e.prototype.updateXAxisTickValues=function(e,t){var a=this.owner,i=a.config,n;return(i.axis_x_tick_fit||i.axis_x_tick_count)&&(n=this.generateTickValues(a.mapTargetsToUniqueXs(e),i.axis_x_tick_count,a.isTimeSeries())),t?t.tickValues(n):(a.xAxis.tickValues(n),a.subXAxis.tickValues(n)),n},e.prototype.getYAxis=function(e,t,a,i,n,s,r){var d=this.owner,o=d.config,l={withOuterTick:n,withoutTransition:s,tickTextRotate:r?0:o.axis_y_tick_rotate},c=(0,g.default)(l).scale(e).orient(t).tickFormat(a);return d.isTimeSeriesY()?c.ticks(o.axis_y_tick_time_value):c.tickValues(i),c},e.prototype.getId=function(e){var t=this.owner.config;return e in t.data_axes?t.data_axes[e]:'y'},e.prototype.getXAxisTickFormat=function(){var e=this.owner,t=e.config,a;return a=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(e){return 0>e?e.toFixed(0):e},t.axis_x_tick_format&&((0,l.isFunction)(t.axis_x_tick_format)?a=t.axis_x_tick_format:e.isTimeSeries()&&(a=function(a){return a?e.axisTimeFormat(t.axis_x_tick_format)(a):''})),(0,l.isFunction)(a)?function(t){return a.call(e,t)}:a},e.prototype.getTickValues=function(e,t){var a;return a=e?e:t?t.tickValues():void 0,a},e.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},e.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},e.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},e.prototype.getLabelOptionByAxisId=function(e){var t=this.owner,a=t.config,i;return'y'===e?i=a.axis_y_label:'y2'===e?i=a.axis_y2_label:'x'===e&&(i=a.axis_x_label),i},e.prototype.getLabelText=function(e){var t=this.getLabelOptionByAxisId(e),a;return a=(0,l.isString)(t)?t:t?t.text:null,a},e.prototype.setLabelText=function(e,t){var a=this.owner,i=a.config,n=this.getLabelOptionByAxisId(e);(0,l.isString)(n)?'y'===e?i.axis_y_label=t:'y2'===e?i.axis_y2_label=t:'x'===e&&(i.axis_x_label=t):n&&(n.text=t)},e.prototype.getLabelPosition=function(e,t){var a=this.getLabelOptionByAxisId(e),i='object'===('undefined'===typeof a?'undefined':(0,s.default)(a))&&a.position?a.position:t;return{isInner:!!~i.indexOf('inner'),isOuter:!!~i.indexOf('outer'),isLeft:!!~i.indexOf('left'),isCenter:!!~i.indexOf('center'),isRight:!!~i.indexOf('right'),isTop:!!~i.indexOf('top'),isMiddle:!!~i.indexOf('middle'),isBottom:!!~i.indexOf('bottom')}},e.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition('x',this.owner.config.axis_rotated?'inner-top':'inner-right')},e.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition('y',this.owner.config.axis_rotated?'inner-right':'inner-top')},e.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition('y2',this.owner.config.axis_rotated?'inner-right':'inner-top')},e.prototype.getLabelPositionById=function(e){var t;return t='y2'===e?this.getY2AxisLabelPosition():'y'===e?this.getYAxisLabelPosition():this.getXAxisLabelPosition(),t},e.prototype.textForXAxisLabel=function(){return this.getLabelText('x')},e.prototype.textForYAxisLabel=function(){return this.getLabelText('y')},e.prototype.textForY2AxisLabel=function(){return this.getLabelText('y2')},e.prototype.xForAxisLabel=function(e,t){var a=this.owner,i;return i=e?t.isLeft?0:t.isCenter?a.width/2:a.width:t.isBottom?-a.height:t.isMiddle?-a.height/2:0,i},e.prototype.dxForAxisLabel=function(e,t){var a;return a=e?t.isLeft?'0.5em':t.isRight?'-0.5em':'0':t.isTop?'-0.5em':t.isBottom?'0.5em':'0',a},e.prototype.textAnchorForAxisLabel=function(e,t){var a;return a=e?t.isLeft?'start':t.isCenter?'middle':'end':t.isBottom?'start':t.isMiddle?'middle':'end',a},e.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},e.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},e.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},e.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},e.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},e.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},e.prototype.dyForXAxisLabel=function(){var e=this.owner,t=e.config,a=this.getXAxisLabelPosition();return t.axis_rotated?a.isInner?'1.2em':-25-this.getMaxTickWidth('x'):a.isInner?'-0.5em':t.axis_x_height?t.axis_x_height-10:'3em'},e.prototype.dyForYAxisLabel=function(){var e=this.owner,t=this.getYAxisLabelPosition();return e.config.axis_rotated?t.isInner?'-0.5em':'3em':t.isInner?'1.2em':-10-(e.config.axis_y_inner?0:this.getMaxTickWidth('y')+10)},e.prototype.dyForY2AxisLabel=function(){var e=this.owner,t=this.getY2AxisLabelPosition();return e.config.axis_rotated?t.isInner?'1.2em':'-2.2em':t.isInner?'-0.5em':15+(e.config.axis_y2_inner?0:this.getMaxTickWidth('y2')+15)},e.prototype.textAnchorForXAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(!e.config.axis_rotated,this.getXAxisLabelPosition())},e.prototype.textAnchorForYAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getYAxisLabelPosition())},e.prototype.textAnchorForY2AxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getY2AxisLabelPosition())},e.prototype.getMaxTickWidth=function(e,t){var a=this.owner,i=a.config,n=0,s,r;if(t&&a.currentMaxTickWidths[e])return a.currentMaxTickWidths[e];if(a.svg){var d=a.filterTargetsToShow(a.data.targets),l,c;'y'===e?(l=a.y.copy().domain(a.getYDomain(d,'y')),c=this.getYAxis(l,a.yOrient,i.axis_y_tick_format,a.yAxisTickValues,!1,!0,!0)):'y2'===e?(l=a.y2.copy().domain(a.getYDomain(d,'y2')),c=this.getYAxis(l,a.y2Orient,i.axis_y2_tick_format,a.y2AxisTickValues,!1,!0,!0)):(l=a.x.copy().domain(a.getXDomain(d)),c=this.getXAxis(l,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(d,c)),s=(0,o.select)('body').append('div').classed('bb',!0),r=s.append('svg').style('visibility','hidden').style('position','fixed').style('top','0px').style('left','0px'),r.append('g').call(c).each(function(){(0,o.select)(this).selectAll('text').each(function(){var e=this.getBoundingClientRect();n<e.width&&(n=e.width)}),s.remove()})}return a.currentMaxTickWidths[e]=0>=n?a.currentMaxTickWidths[e]:n,a.currentMaxTickWidths[e]},e.prototype.updateLabels=function(e){var t=this.owner,a=t.main.select('.'+p.default.axisX+' .'+p.default.axisXLabel),i=t.main.select('.'+p.default.axisY+' .'+p.default.axisYLabel),n=t.main.select('.'+p.default.axisY2+'  .'+p.default.axisY2Label);(e?a.transition():a).attr('x',this.xForXAxisLabel.bind(this)).attr('dx',this.dxForXAxisLabel.bind(this)).attr('dy',this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(e?i.transition():i).attr('x',this.xForYAxisLabel.bind(this)).attr('dx',this.dxForYAxisLabel.bind(this)).attr('dy',this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(e?n.transition():n).attr('x',this.xForY2AxisLabel.bind(this)).attr('dx',this.dxForY2AxisLabel.bind(this)).attr('dy',this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},e.prototype.getPadding=function(e,t,a,i){var n='number'===typeof e?e:e[t];return(0,l.isValue)(n)?'ratio'===e.unit?e[t]*i:this.convertPixelsToAxisPadding(n,i):a},e.prototype.convertPixelsToAxisPadding=function(e,t){var a=this.owner,i=a.config.axis_rotated?a.width:a.height;return t*(e/i)},e.prototype.generateTickValues=function(e,t,a){var n=e,s,r,d,o,c,i;if(t){var g=(0,l.isFunction)(t)?t():t;if(1===g)n=[e[0]];else if(2===g)n=[e[0],e[e.length-1]];else if(2<g){for(d=g-2,s=e[0],r=e[e.length-1],o=(r-s)/(d+1),n=[s],c=0;c<d;c++)i=+s+o*(c+1),n.push(a?new Date(i):i);n.push(r)}}return a||(n=n.sort(function(e,t){return e-t})),n},e.prototype.generateTransitions=function(e){var t=this.owner,a=t.axes;return{axisX:e?a.x.transition().duration(e):a.x,axisY:e?a.y.transition().duration(e):a.y,axisY2:e?a.y2.transition().duration(e):a.y2,axisSubX:e?a.subx.transition().duration(e):a.subx}},e.prototype.redraw=function(e,t){var a=this.owner,i=t?'0':'1';a.axes.x.style('opacity',i),a.axes.y.style('opacity',i),a.axes.y2.style('opacity',i),a.axes.subx.style('opacity',i),e.axisX.call(a.xAxis),e.axisY.call(a.yAxis),e.axisY2.call(a.y2Axis),e.axisSubX.call(a.subXAxis)},e}();t.default=x,e.exports=t['default']},function(e,t,a){'use strict';t.__esModule=!0;var i=a(5),d=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function(){function e(e,t){e.attr('transform',function(e){return'translate('+o(t(e)+L)+', 0)'})}function t(e,t){e.attr('transform',function(e){return'translate(0,'+o(t(e))+')'})}function a(e){var t=e[0],a=e[e.length-1];return t<a?[t,a]:[a,t]}function i(e){var t=[];if(e.ticks)return e.ticks.apply(e,C?Array.prototype.slice.call(C):[]).map(function(e){return /(string|number)/.test('undefined'===typeof e?'undefined':(0,d.default)(e))&&!isNaN(e)?r(10*e)/10:e});for(var a=e.domain(),n=o(a[0]);n<a[1];n++)t.push(n);return 0<t.length&&0<t[0]&&t.unshift(t[0]-(t[1]-t[0])),t}function u(){var e=y.copy();if(m.isCategory||!e.domain().length){var t=y.domain();e.domain([t[0],t[1]-1])}return e}function p(e){var t=S?S(e):e;return'undefined'===typeof t?'':t}function h(e){if(g)return g;var t={h:11.5,w:5.5};return e.select('text').text(p).each(function(e){var a=this.getBoundingClientRect(),i=p(e),n=a.height,s=i?a.width/i.length:void 0;n&&s&&(t.h=n,t.w=s)}).text(''),g=t,t}function _(e){return m.withoutTransition?e:e.transition(F)}function f(r){r.each(function(){function r(e,t){function a(e,t){r=void 0;for(var o=1;o<t.length;o++)if(' '===t.charAt(o)&&(r=o),s=t.substr(0,o+1),d=H.w*s.length,n<d)return a(e.concat(t.substr(0,r||o)),t.slice(r?r+1:o));return e.concat(t)}var i=p(e),n=t,s=void 0,r=void 0,d=void 0;return'[object Array]'===Object.prototype.toString.call(i)?i:((!n||0>=n)&&(n=j?95:m.isCategory?o(C(F[1])-C(F[0]))-12:110),a([],i+''))}function d(e,t){var a=H.h;return 0===t&&(a='left'===b||'right'===b?-((U[e.index]-1)*(H.h/2)-3):'.71em'),a}var S=(0,l.select)(this);f.g=S;var g=this.__chart__||y,C=u();this.__chart__=C;var F=w||i(C),X=S.selectAll('.tick').data(F,C),k=X.enter().insert('g','.domain').attr('class','tick').style('opacity','1'),I=X.exit().remove();X=k.merge(X);var E=_(X).style('opacity','1'),R=y.rangeExtent?y.rangeExtent():a((m.orgXScale||y).range()),Y=S.selectAll('.domain').data([0]),M=Y.enter().append('path').attr('class','domain').merge(_(Y)),z,O,B;k.append('line'),k.append('text');var P=k.select('line'),V=E.select('line'),W=k.select('text'),G=E.select('text');m.isCategory?(L=o((C(1)-C(0))/2),O=D?0:L,B=D?L:0):(O=0,L=O);var H=h(S.select('.tick')),U=[],N=s(T,0)+A,j='left'===b||'right'===b,K=X.select('text'),Z;Z=K.selectAll('tspan').data(function(e,t){var a;return a=m.tickMultiline?r(e,m.tickWidth):(0,c.isArray)(p(e))?p(e).concat():[p(e)],U[t]=a.length,a.map(function(e){return{index:t,splitted:e}})}),Z.exit().remove(),Z=Z.enter().append('tspan').merge(Z).text(function(e){return e.splitted});var q=m.tickTextRotate;if('bottom'===b?(z=e,P.attr('y2',T),W.attr('y',N),V.attr('x1',O).attr('x2',O).attr('y2',function(e){var t=y(e)+(D?0:L);return R[0]<t&&t<R[1]?T:0}),G.attr('x',0).attr('y',function(e){return e?11.5-2.5*(e/15)*(0<e?1:-1):N}(q)).style('text-anchor',function(e){return e?0<e?'start':'end':'middle'}(q)).attr('transform',function(e){return e?'rotate('+e+')':''}(q)),Z.attr('x',0).attr('dy',d).attr('dx',function(e){return e?8*Math.sin(n*(e/180)):0}(q)),M.attr('d','M'+R[0]+','+v+'V0H'+R[1]+'V'+v)):'top'===b?(z=e,P.attr('y2',-T),W.attr('y',-N),V.attr('x2',0).attr('y2',-T),G.attr('x',0).attr('y',-N),K.style('text-anchor','middle'),Z.attr('x',0).attr('dy','0em'),M.attr('d','M'+R[0]+','+-v+'V0H'+R[1]+'V'+-v)):'left'===b?(z=t,P.attr('x2',-T),W.attr('x',-N),V.attr('x2',-T).attr('y1',B).attr('y2',B),G.attr('x',-N).attr('y',L),K.style('text-anchor','end'),Z.attr('x',-N).attr('dy',d),M.attr('d','M'+-v+','+R[0]+'H0V'+R[1]+'H'+-v)):'right'===b?(z=t,P.attr('x2',T),W.attr('x',N),V.attr('x2',T).attr('y2',0),G.attr('x',N).attr('y',0),K.style('text-anchor','start'),Z.attr('x',N).attr('dy',d),M.attr('d','M'+v+','+R[0]+'H0V'+R[1]+'H'+v)):void 0,C.bandwidth){var J=C,x=J.bandwidth()/2;g=function(e){return J(e)+x},C=g}else g.bandwidth?g=C:I.call(z,C);k.call(z,g),E.call(z,C)})}var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},y=(0,l.scaleLinear)(),b='bottom',T=6,v=m.withOuterTick?6:0,A=3,w=null,L=0,x=!0,S,C,D,F;return f.scale=function(e){return arguments.length?(y=e,f):y},f.orient=function(e){return arguments.length?(b=e in{top:1,right:1,bottom:1,left:1}?e+'':'bottom',f):b},f.tickFormat=function(e){return arguments.length?(S=e,f):S},f.tickCentered=function(e){return arguments.length?(D=e,f):D},f.tickOffset=function(){return L},f.tickInterval=function(){var e;if(m.isCategory)e=2*L;else{var t=f.g.select('path.domain').node().getTotalLength()-2*v;e=t/f.g.selectAll('line').size()}return e===Infinity?0:e},f.ticks=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.length?(C=Array.prototype.slice.call(t),f):C},f.tickCulling=function(e){return arguments.length?(x=e,f):x},f.tickValues=function(e){if('function'===typeof e)w=function(){return e(y.domain())};else{if(!arguments.length)return w;w=e}return this},f.setTransition=function(e){return F=e,this},f};var l=a(2),c=a(0),g=void 0;e.exports=t['default']},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}t.__esModule=!0,t.d3=t.bb=void 0;var s=a(2),r=n(s),d=a(4),o=i(d),l=a(1),c=i(l),g=a(7),u=i(g),x=a(0),h=n(x);a(10);var _={version:'1.1.1',generate:function(e){return new o.default(e)},chart:{fn:o.default.prototype,internal:{fn:c.default.prototype,axis:{fn:u.default.prototype}}}};for(var f in h)/^__/.test(f)||(c.default.prototype[f]=h[f]);a(11),a(13),a(14),a(15),a(16),a(17),a(18),a(19),a(20),a(21),a(22),a(23),a(24),a(25),a(26),a(27),a(28),a(29),a(30),a(31),a(32),a(33),a(34),a(35),a(36),a(37),a(38),a(39),a(40),a(41),a(42),a(43),a(44),a(45),a(46),a(47),a(48),a(49),a(50),a(51),a(52),a(53),a(54),a(55),a(56),a(57),a(59),a(8),a(60),t.bb=_,t.d3=r},function(){},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(5),s=i(n),r=a(12),d=i(r),o=a(1),l=i(o),c=a(0);(0,c.extend)(l.default.prototype,{getOptions:function(){var e=new d.default;return(0,c.merge)(e.value,this.additionalConfig)},additionalConfig:{},loadConfig:function(e){function t(){var e=n.shift();return e&&i&&'object'===('undefined'===typeof i?'undefined':(0,s.default)(i))&&e in i?(i=i[e],t()):e?void 0:i}var a=this.config,i=void 0,n,r;Object.keys(a).forEach(function(s){i=e,n=s.split('_'),r=t(),(0,c.isDefined)(r)&&(a[s]=r)})}})},function(e,t,a){'use strict';t.__esModule=!0;var i=a(6),s=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=function e(){(0,s.default)(this,e),this.value={bindto:'#chart',clipPath:!0,svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_enabled:!0,interaction_brighten:!0,interaction_inputType_mouse:!0,interaction_inputType_touch:{},onover:function(){},onout:function(){},onresize:function(){},onresized:function(){},onbeforeinit:void 0,oninit:function(){},onafterinit:void 0,onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:'%Y-%m-%d',data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(e){return e},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_labels_position:{},data_order:'desc',data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onover:function(){},data_onout:function(){},data_onselected:function(){},data_onunselected:function(){},data_onmin:void 0,data_onmax:void 0,data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:'',subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_contents_bindto:void 0,legend_contents_template:void 0,legend_position:'bottom',legend_inset_anchor:'top-left',legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onover:void 0,legend_item_onout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:'indexed',axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:!1,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:!1,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:'tick',grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:'step',bar_width:void 0,bar_width_ratio:0.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:0.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*n/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:0.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:'',donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:'cardinal',regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(e,t,a,i){return this.getTooltipContent?this.getTooltipContent(e,t,a,i):''},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:'0px',left:'50px'},tooltip_onshow:function(){},tooltip_onhide:function(){},tooltip_order:null,title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:'top-center'}},e.exports=t['default']},function(e,t,a){'use strict';var i=a(2),n=a(1),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a(0);(0,r.extend)(s.default.prototype,{getScale:function(e,t,a){return(a?(0,i.scaleTime)():(0,i.scaleLinear)()).range([e,t])},getX:function(e,t,a,i){var n=this,s=n.getScale(e,t,n.isTimeSeries()),r=a?s.domain(a):s,d,l;for(d in n.isCategorized()?(l=i||function(){return 0},s=function(e,t){var a=r(e)+l(e);return t?a:o(a)}):s=function(e,t){var a=r(e);return t?a:o(a)},r)s[d]=r[d];return s.orgDomain=function(){return r.domain()},n.isCategorized()&&(s.domain=function(e){var t=e;return arguments.length?(r.domain(t),s):(t=this.orgDomain(),[t[0],t[1]+1])}),s},getY:function(e,t,a){var i=this.getScale(e,t,this.isTimeSeriesY());return a&&i.domain(a),i},getYScale:function(e){return'y2'===this.axis.getId(e)?this.y2:this.y},getSubYScale:function(e){return'y2'===this.axis.getId(e)?this.subY2:this.subY},updateScales:function(e){var t=this,a=t.config,i=!t.x;t.xMin=a.axis_rotated?1:0,t.xMax=a.axis_rotated?t.height:t.width,t.yMin=a.axis_rotated?0:t.height,t.yMax=a.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=a.axis_rotated?0:t.height2,t.subYMax=a.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,i?void 0:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,i?a.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,i?a.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,i?a.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,i?a.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,a.axis_x_tick_outer,e),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,a.axis_x_tick_outer),t.yAxis=t.axis.getYAxis(t.y,t.yOrient,a.axis_y_tick_format,t.yAxisTickValues,a.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,a.axis_y2_tick_format,t.y2AxisTickValues,a.axis_y2_tick_outer),t.updateArc&&t.updateArc()}})},function(e,t,a){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}var r=a(5),d=n(r),o=a(2),l=a(1),c=n(l),g=a(0);(0,g.extend)(c.default.prototype,{getYDomainMin:function(e){var t=this,a=t.config,i=t.mapToIds(e),n=t.getValuesAsIdKeyed(e),s,r,d,l,c,g;if(0<a.data_groups.length)for(g=t.hasNegativeValueInTargets(e),s=0;s<a.data_groups.length;s++)if(l=a.data_groups[s].filter(function(e){return 0<=i.indexOf(e)}),0!==l.length)for(d=l[0],g&&n[d]&&n[d].forEach(function(e,t){n[d][t]=0>e?e:0}),r=1;r<l.length;r++)(c=l[r],!!n[c])&&n[c].forEach(function(e,a){t.axis.getId(c)===t.axis.getId(d)&&n[d]&&!(g&&0<+e)&&(n[d][a]+=+e)});return(0,o.min)(Object.keys(n).map(function(e){return(0,o.min)(n[e])}))},getYDomainMax:function(e){var t=this,a=t.config,i=t.mapToIds(e),n=t.getValuesAsIdKeyed(e),s,r,d,l,c,g;if(0<a.data_groups.length)for(g=t.hasPositiveValueInTargets(e),s=0;s<a.data_groups.length;s++)if(l=a.data_groups[s].filter(function(e){return 0<=i.indexOf(e)}),0!==l.length)for(d=l[0],g&&n[d]&&n[d].forEach(function(e,t){n[d][t]=0<e?e:0}),r=1;r<l.length;r++)(c=l[r],!!n[c])&&n[c].forEach(function(e,a){t.axis.getId(c)===t.axis.getId(d)&&n[d]&&!(g&&0>+e)&&(n[d][a]+=+e)});return(0,o.max)(Object.keys(n).map(function(e){return(0,o.max)(n[e])}))},getYDomain:function(e,a,t){var n=this,r=n.config,d=e.filter(function(e){return n.axis.getId(e.id)===a}),o=t?n.filterByXDomain(d,t):d,l='y2'===a?r.axis_y2_min:r.axis_y_min,c='y2'===a?r.axis_y2_max:r.axis_y_max,u=n.getYDomainMin(o),p=n.getYDomainMax(o),x='y2'===a?r.axis_y2_center:r.axis_y_center,h=n.hasType('bar',o)&&r.bar_zerobased||n.hasType('area',o)&&r.area_zerobased,_='y2'===a?r.axis_y2_inverted:r.axis_y_inverted,f=n.hasDataLabel()&&r.axis_rotated,m=n.hasDataLabel()&&!r.axis_rotated,y;if(u=(0,g.isValue)(l)?l:(0,g.isValue)(c)?u<c?u:c-10:u,p=(0,g.isValue)(c)?c:(0,g.isValue)(l)?l<p?p:l+10:p,0===o.length)return'y2'===a?n.y2.domain():n.y.domain();isNaN(u)&&(u=0),isNaN(p)&&(p=u),u===p&&(0>u?p=0:u=0);var b=0<=u&&0<=p,T=0>=u&&0>=p;((0,g.isValue)(l)&&b||(0,g.isValue)(c)&&T)&&(h=!1),h&&(b&&(u=0),T&&(p=0));var v=i(p-u),A=0.1*v,w=0.1*v;if('undefined'!==typeof x){var L=s(i(u),i(p));p=x+L,u=x-L}if(f){y=n.getDataLabelLength(u,p,'width');var S=(0,g.diffDomain)(n.y.range()),C=[y[0]/S,y[1]/S];A+=v*(C[1]/(1-C[0]-C[1])),w+=v*(C[0]/(1-C[0]-C[1]))}else m&&(y=n.getDataLabelLength(u,p,'height'),A+=n.axis.convertPixelsToAxisPadding(y[1],v),w+=n.axis.convertPixelsToAxisPadding(y[0],v));'y'===a&&(0,g.notEmpty)(r.axis_y_padding)&&(A=n.axis.getPadding(r.axis_y_padding,'top',A,v),w=n.axis.getPadding(r.axis_y_padding,'bottom',w,v)),'y2'===a&&(0,g.notEmpty)(r.axis_y2_padding)&&(A=n.axis.getPadding(r.axis_y2_padding,'top',A,v),w=n.axis.getPadding(r.axis_y2_padding,'bottom',w,v)),h&&(b&&(w=u),T&&(A=-p));var D=[u-w,p+A];return _?D.reverse():D},getXDomainMin:function(e){var t=this,a=t.config;return(0,g.isDefined)(a.axis_x_min)?t.isTimeSeries()?this.parseDate(a.axis_x_min):a.axis_x_min:(0,o.min)(e,function(e){return(0,o.min)(e.values,function(e){return e.x})})},getXDomainMax:function(e){var t=this,a=t.config;return(0,g.isDefined)(a.axis_x_max)?t.isTimeSeries()?this.parseDate(a.axis_x_max):a.axis_x_max:(0,o.max)(e,function(e){return(0,o.max)(e.values,function(e){return e.x})})},getXDomainPadding:function(e){var t=this,a=t.config,i=e[1]-e[0],n,s,r,o;return t.isCategorized()?s=0:t.hasType('bar')?(n=t.getMaxDataCount(),s=1<n?i/(n-1)/2:0.5):s=0.01*i,'object'===(0,d.default)(a.axis_x_padding)&&(0,g.notEmpty)(a.axis_x_padding)?(r=(0,g.isValue)(a.axis_x_padding.left)?a.axis_x_padding.left:s,o=(0,g.isValue)(a.axis_x_padding.right)?a.axis_x_padding.right:s):'number'===typeof a.axis_x_padding?(r=a.axis_x_padding,o=a.axis_x_padding):(r=s,o=s),{left:r,right:o}},getXDomain:function(e){var t=this,a=[t.getXDomainMin(e),t.getXDomainMax(e)],i=a[0],n=a[1],s=t.getXDomainPadding(a),r=0,d=0;return 0!==i-n||t.isCategorized()||(t.isTimeSeries()?(i=new Date(0.5*i.getTime()),n=new Date(1.5*n.getTime())):(i=0===i?1:0.5*i,n=0===n?-1:1.5*n)),(i||0===i)&&(r=t.isTimeSeries()?new Date(i.getTime()-s.left):i-s.left),(n||0===n)&&(d=t.isTimeSeries()?new Date(n.getTime()+s.right):n+s.right),[r,d]},updateXDomain:function(e,t,a,i,n){var s=this,r=s.config;if(a&&(s.x.domain(n||(0,o.extent)(s.getXDomain(e))),s.orgXDomain=s.x.domain(),r.zoom_enabled&&s.zoom.updateScaleExtent(),s.subX.domain(s.x.domain()),s.brush&&s.brush.scale(s.subX)),t){var d=n||!s.brush||s.brushEmpty()?s.orgXDomain:s.getBrushSelection().map(function(e){return s.subX.invert(e)});s.x.domain(d),r.zoom_enabled&&s.zoom.updateScaleExtent()}return i&&s.x.domain(s.trimXDomain(s.x.orgDomain())),s.x.domain()},trimXDomain:function(e){var t=this.getZoomDomain(),a=t[0],i=t[1];return e[0]<=a&&(e[1]=+e[1]+(a-e[0]),e[0]=a),i<=e[1]&&(e[0]=+e[0]-(e[1]-i),e[1]=i),e}})},function(e,n,s){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}var d=s(5),o=r(d),l=s(2),c=s(3),g=r(c),u=s(1),p=r(u),h=s(0);(0,h.extend)(p.default.prototype,{isX:function(e){var t=this,a=t.config,i=a.data_x&&e===a.data_x,n=(0,h.notEmpty)(a.data_xs)&&(0,h.hasValue)(a.data_xs,e);return i||n},isNotX:function(e){return!this.isX(e)},getXKey:function(e){var t=this,a=t.config;return a.data_x?a.data_x:(0,h.notEmpty)(a.data_xs)?a.data_xs[e]:null},getXValuesOfXKey:function(e,t){var a=this,i=t&&(0,h.notEmpty)(t)?a.mapToIds(t):[],n;return i.forEach(function(t){a.getXKey(t)===e&&(n=a.data.xs[t])}),n},getIndexByX:function(e){var t=this,a=t.filterByX(t.data.targets,e);return a.length?a[0].index:null},getXValue:function(e,t){var a=this;return e in a.data.xs&&a.data.xs[e]&&(0,h.isValue)(a.data.xs[e][t])?a.data.xs[e][t]:t},getOtherTargetXs:function(){var e=this,t=Object.keys(e.data.xs);return t.length?e.data.xs[t[0]]:null},getOtherTargetX:function(e){var t=this.getOtherTargetXs();return t&&e<t.length?t[e]:null},addXs:function(e){var t=this;Object.keys(e).forEach(function(a){t.config.data_xs[a]=e[a]})},hasMultipleX:function(e){return 1<(0,l.set)(Object.keys(e).map(function(t){return e[t]})).size()},isMultipleX:function(){return(0,h.notEmpty)(this.config.data_xs)||!this.config.data_xSort||this.hasType('scatter')},addName:function(e){var t=this,a;return e&&(a=t.config.data_names[e.id],e.name=a===void 0?e.id:a),e},getValueOnIndex:function(e,t){var a=e.filter(function(e){return e.index===t});return a.length?a[0]:null},updateTargetX:function(e,a){var n=this;e.forEach(function(e){e.values.forEach(function(t,s){t.x=n.generateTargetX(a[s],e.id,s)}),n.data.xs[e.id]=a})},updateTargetXs:function(e,a){var i=this;e.forEach(function(e){a[e.id]&&i.updateTargetX([e],a[e.id])})},generateTargetX:function(e,t,a){var i=this,n;return n=i.isTimeSeries()?e?i.parseDate(e):i.parseDate(i.getXValue(t,a)):i.isCustomX()&&!i.isCategorized()?(0,h.isValue)(e)?+e:i.getXValue(t,a):a,n},cloneTarget:function(e){return{id:e.id,id_org:e.id_org,values:e.values.map(function(e){return{x:e.x,value:e.value,id:e.id}})}},updateXs:function(){var e=this;e.data.targets.length&&(e.xs=[],e.data.targets[0].values.forEach(function(t){e.xs[t.index]=t.x}))},getPrevX:function(e){var t=this.xs[e-1];return'undefined'===typeof t?null:t},getNextX:function(e){var t=this.xs[e+1];return'undefined'===typeof t?null:t},getMinMaxValue:function(e){var t,a;return(e||this.data.targets.map(function(e){return e.values})).forEach(function(e){t=(0,l.min)([t,(0,l.min)(e,function(e){return e.value})]),a=(0,l.max)([a,(0,l.max)(e,function(e){return e.value})])}),{min:t,max:a}},getMinMaxData:function(){var e=this,t=this.data.targets.map(function(e){return e.values}),a=this.getMinMaxValue(t),i=[],n=[];return t.forEach(function(t){var s=e.getFilteredDataByValue(t,a.min),r=e.getFilteredDataByValue(t,a.max);s.length&&(i=i.concat(s)),r.length&&(n=n.concat(r))}),{min:i,max:n}},getFilteredDataByValue:function(e,a){return e.filter(function(e){return e.value===a})},getMaxDataCount:function(){return(0,l.max)(this.data.targets,function(e){return e.values.length})},getMaxDataCountTarget:function(e){var t=e.length,a=0,i;return 1<t?e.forEach(function(e){e.values.length>a&&(i=e,a=e.values.length)}):i=t?e[0]:null,i},mapToIds:function(e){return e.map(function(e){return e.id})},mapToTargetIds:function(e){var t=this;return e?(0,h.isArray)(e)?e.concat():[e]:t.mapToIds(t.data.targets)},hasTarget:function(e,t){var a=this.mapToIds(e),n;for(n=0;n<a.length;n++)if(a[n]===t)return!0;return!1},isTargetToShow:function(e){return 0>this.hiddenTargetIds.indexOf(e)},isLegendToShow:function(e){return 0>this.hiddenLegendIds.indexOf(e)},filterTargetsToShow:function(e){var a=this;return e.filter(function(e){return a.isTargetToShow(e.id)})},mapTargetsToUniqueXs:function(e){var t=this,a=(0,l.set)((0,l.merge)(e.map(function(e){return e.values.map(function(e){return+e.x})}))).values();return a=t.isTimeSeries()?a.map(function(e){return new Date(+e)}):a.map(function(e){return+e}),a.sort(function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN})},addHiddenTargetIds:function(e){this.hiddenTargetIds=this.hiddenTargetIds.concat(e)},removeHiddenTargetIds:function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return 0>e.indexOf(t)})},addHiddenLegendIds:function(e){this.hiddenLegendIds=this.hiddenLegendIds.concat(e)},removeHiddenLegendIds:function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return 0>e.indexOf(t)})},getValuesAsIdKeyed:function(e){var a={};return e.forEach(function(e){a[e.id]=[],e.values.forEach(function(t){a[e.id].push(t.value)})}),a},checkValueInTargets:function(e,t){var a=Object.keys(e),n,i,s;for(n=0;n<a.length;n++)for(s=e[a[n]].values,i=0;i<s.length;i++)if(t(s[i].value))return!0;return!1},hasNegativeValueInTargets:function(e){return this.checkValueInTargets(e,function(e){return 0>e})},hasPositiveValueInTargets:function(e){return this.checkValueInTargets(e,function(e){return 0<e})},_checkOrder:function(e){var t=this.config;return'string'===typeof t.data_order&&t.data_order.toLowerCase()===e},isOrderDesc:function(){return this._checkOrder('desc')},isOrderAsc:function(){return this._checkOrder('asc')},orderTargets:function(e){var t=this,a=t.config,n=t.isOrderAsc(),s=t.isOrderDesc();return n||s?e.sort(function(e,t){var a=function(e,t){return e+i(t.value)},s=e.values.reduce(a,0),r=t.values.reduce(a,0);return n?r-s:s-r}):(0,h.isFunction)(a.data_order)&&e.sort(a.data_order),e},filterByX:function(e,t){return(0,l.merge)(e.map(function(e){return e.values})).filter(function(e){return 0===e.x-t})},filterRemoveNull:function(e){return e.filter(function(e){return(0,h.isValue)(e.value)})},filterByXDomain:function(e,t){return e.map(function(e){return{id:e.id,id_org:e.id_org,values:e.values.filter(function(e){return t[0]<=e.x&&e.x<=t[1]})}})},hasDataLabel:function(){var e=this.config.data_labels,t='undefined'===typeof e?'undefined':(0,o.default)(e);return'boolean'===t&&e||'object'===t&&(0,h.notEmpty)(e)},getDataLabelLength:function(e,t,a){var i=this,n=[0,0];return i.selectChart.select('svg').selectAll('.dummy').data([e,t]).enter().append('text').text(function(e){return i.dataLabelFormat(e.id)(e)}).each(function(e,t){n[t]=1.3*this.getBoundingClientRect()[a]}).remove(),n},isNoneArc:function(e){return this.hasTarget(this.data.targets,e.id)},isArc:function(e){return'data'in e&&this.hasTarget(this.data.targets,e.data.id)},findSameXOfValues:function(e,t){var a=e[t].x,n=[],s;for(s=t-1;0<=s&&a===e[s].x;s--)n.push(e[s]);for(s=t;s<e.length&&a===e[s].x;s++)n.push(e[s]);return n},findClosestFromTargets:function(e,t){var a=this,i=e.map(function(e){return a.findClosest(e.values,t)});return a.findClosest(i,t)},findClosest:function(e,t){var a=this,i=a.config.point_sensitivity,n;return e.filter(function(e){return e&&a.isBarType(e.id)}).forEach(function(e){var t=a.main.select().node('.'+g.default.bars+a.getTargetSelectorSuffix(e.id)+'.'+g.default.bar+'-'+e.index);!n&&a.isWithinBar(t)&&(n=e)}),e.filter(function(e){return e&&!a.isBarType(e.id)}).forEach(function(e){var s=a.dist(e,t);s<i&&(i=s,n=e)}),n},dist:function(e,i){var n=this,s=n.config,r=s.axis_rotated?1:0,d=s.axis_rotated?0:1,o=n.circleY(e,e.index),l=n.x(e.x);return t(a(l-i[r],2)+a(o-i[d],2))},convertValuesToStep:function(e){var t=(0,h.isArray)(e)?e.concat():[e],a;if(!this.isCategorized())return e;for(a=e.length+1;0<a;a--)t[a]=t[a-1];return t[0]={x:t[0].x-1,value:t[0].value,id:t[0].id},t[e.length+1]={x:t[e.length].x+1,value:t[e.length].value,id:t[e.length].id},t},updateDataAttributes:function(e,t){var a=this,i=a.config,n=i['data_'+e];return'undefined'===typeof t?n:(Object.keys(t).forEach(function(e){n[e]=t[e]}),a.redraw({withLegend:!0}),n)}})},function(e,t,a){'use strict';var i=a(2),n=a(1),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a(0);(0,r.extend)(s.default.prototype,{convertUrlToData:function(e){var t=this,a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'csv',n=arguments[2],s=arguments[3],r=arguments[4],o=a,d=(0,i.request)(e);if(n)for(var l=Object.keys(n),c=Array.isArray(l),g=0,l=c?l:l[Symbol.iterator]();;){var u;if(c){if(g>=l.length)break;u=l[g++]}else{if(g=l.next(),g.done)break;u=g.value}var p=u;d.header(p,n[p])}d.get(function(e,a){var i;if(!a)throw new Error(e.responseURL+' '+e.status+' ('+e.statusText+')');var n=a.response||a.responseText;i='json'===o?t.convertJsonToData(JSON.parse(n),s):'tsv'===o?t.convertTsvToData(n):t.convertCsvToData(n),r.call(t,i)})},_convertCsvTsvToData:function(e,t){var a=e.rows(t),i;return 1===a.length?(i=[{}],a[0].forEach(function(e){i[0][e]=null})):i=e.parse(t),i},convertCsvToData:function(e){return this._convertCsvTsvToData({rows:i.csvParseRows,parse:i.csvParse},e)},convertTsvToData:function(e){return this._convertCsvTsvToData({rows:i.tsvParseRows,parse:i.tsvParse},e)},convertJsonToData:function(e,t){var a=this,i=[],n,s;return t?(t.x?(n=t.value.concat(t.x),this.config.data_x=t.x):n=t.value,i.push(n),e.forEach(function(e){for(var t=[],s=void 0,d=n,o=Array.isArray(d),l=0,d=o?d:d[Symbol.iterator]();;){var c;if(o){if(l>=d.length)break;c=d[l++]}else{if(l=d.next(),l.done)break;c=l.value}var g=c;s=a.findValueInJson(e,g),(0,r.isUndefined)(s)&&(s=null),t.push(s)}i.push(t)}),s=this.convertRowsToData(i)):(Object.keys(e).forEach(function(t){var a=e[t].concat();a.unshift(t),i.push(a)}),s=this.convertColumnsToData(i)),s},findValueInJson:function(e,t){if(e[t]!==void 0)return e[t];for(var a=t.replace(/\[(\w+)\]/g,'.$1'),i=a.replace(/^\./,'').split('.'),n=e,s=i,r=Array.isArray(s),d=0,s=r?s:s[Symbol.iterator]();;){var o;if(r){if(d>=s.length)break;o=s[d++]}else{if(d=s.next(),d.done)break;o=d.value}var l=o;if(l in n)n=n[l];else{n=void 0;break}}return n},convertRowsToData:function(e){var t=e[0],a=[],n={},s,i;for(s=1;s<e.length;s++){for(n={},i=0;i<e[s].length;i++){if((0,r.isUndefined)(e[s][i]))throw new Error('Source data is missing a component at ('+s+', '+i+')!');n[t[i]]=e[s][i]}a.push(n)}return a},convertColumnsToData:function(e){var t=[],a,i,n;for(a=0;a<e.length;a++)for(n=e[a][0],i=1;i<e[a].length;i++){if((0,r.isUndefined)(t[i-1])&&(t[i-1]={}),(0,r.isUndefined)(e[a][i]))throw new Error('Source data is missing a component at ('+a+', '+i+')!');t[i-1][n]=e[a][i]}return t},convertDataToTargets:function(e,t){var a=this,n=this,s=n.config,d=(0,i.keys)(e[0]).filter(n.isNotX,n),o=(0,i.keys)(e[0]).filter(n.isX,n);d.forEach(function(d){var i=a.getXKey(d);a.isCustomX()||a.isTimeSeries()?0<=o.indexOf(i)?a.data.xs[d]=(t&&n.data.xs[d]?n.data.xs[d]:[]).concat(e.map(function(e){return e[i]}).filter(r.isValue).map(function(e,t){return n.generateTargetX(e,d,t)})):s.data_x?a.data.xs[d]=a.getOtherTargetXs():(0,r.notEmpty)(s.data_xs)&&(n.data.xs[d]=n.getXValuesOfXKey(i,n.data.targets)):n.data.xs[d]=e.map(function(e,t){return t})}),d.forEach(function(e){if(!n.data.xs[e])throw new Error('x is not defined for id = "'+e+'".')});var l=d.map(function(t,a){var o=s.data_idConverter(t);return{id:o,id_org:t,values:e.map(function(e,d){var i=n.getXKey(t),l=e[i],c=null===e[t]||isNaN(e[t])?null:+e[t],g;return n.isCustomX()&&n.isCategorized()&&0===a&&!(0,r.isUndefined)(l)?(0===a&&0===d&&(s.axis_x_categories=[]),g=s.axis_x_categories.indexOf(l),-1===g&&(g=s.axis_x_categories.length,s.axis_x_categories.push(l))):g=n.generateTargetX(l,t,d),((0,r.isUndefined)(e[t])||n.data.xs[t].length<=d)&&(g=void 0),{x:g,value:c,id:o}}).filter(function(e){return(0,r.isDefined)(e.x)})}});return l.forEach(function(e){var t;s.data_xSort&&(e.values=e.values.sort(function(e,t){var a=e.x||0===e.x?e.x:Infinity,i=t.x||0===t.x?t.x:Infinity;return a-i})),t=0,e.values.forEach(function(e){e.index=t++}),n.data.xs[e.id].sort(function(e,t){return e-t})}),n.hasNegativeValue=n.hasNegativeValueInTargets(l),n.hasPositiveValue=n.hasPositiveValueInTargets(l),s.data_type&&n.setTargetType(n.mapToIds(l).filter(function(e){return!(e in s.data_types)}),s.data_type),l.forEach(function(e){n.addCache(e.id_org,e)}),l}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(3),s=i(n),r=a(1),d=i(r),o=a(0);(0,o.extend)(d.default.prototype,{load:function(e,a){var i=this,t=e;t&&(a.filter&&(t=t.filter(a.filter)),(a.type||a.types)&&t.forEach(function(e){var t=a.types&&a.types[e.id]?a.types[e.id]:a.type;i.setTargetType(e.id,t)}),i.data.targets.forEach(function(e){for(var a=0;a<t.length;a++)if(e.id===t[a].id){e.values=t[a].values,t.splice(a,1);break}}),i.data.targets=i.data.targets.concat(t)),i.updateTargets(i.data.targets),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),a.done&&a.done()},loadFromArgs:function(e){var t=this;e.data?t.load(t.convertDataToTargets(e.data),e):e.url?t.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(a){t.load(t.convertDataToTargets(a),e)}):e.json?t.load(t.convertDataToTargets(t.convertJsonToData(e.json,e.keys)),e):e.rows?t.load(t.convertDataToTargets(t.convertRowsToData(e.rows)),e):e.columns?t.load(t.convertDataToTargets(t.convertColumnsToData(e.columns)),e):t.load(null,e)},unload:function(e,t){var a=this,i=t,n=e;return i||(i=function(){}),n=n.filter(function(e){return a.hasTarget(a.data.targets,e)}),n&&0!==n.length?void(a.svg.selectAll(n.map(function(e){return a.selectorTarget(e)})).transition().style('opacity','0').remove().call(a.endall,i),n.forEach(function(e){a.withoutFadeIn[e]=!1,a.legend&&a.legend.selectAll('.'+s.default.legendItem+a.getTargetSelectorSuffix(e)).remove(),a.data.targets=a.data.targets.filter(function(a){return a.id!==e})})):void i()}})},function(e,t,a){'use strict';var i=a(1),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(0);(0,s.extend)(n.default.prototype,{categoryName:function(e){var t=this.config;return e<t.axis_x_categories.length?t.axis_x_categories[e]:e}})},function(e,t,a){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}var r=a(2),d=a(1),o=n(d),l=a(3),c=n(l),g=a(0);(0,g.extend)(o.default.prototype,{initEventRect:function(){var e=this;e.main.select('.'+c.default.chart).append('g').attr('class',c.default.eventRects).style('fill-opacity','0')},redrawEventRect:function(){var e=this,t=e.config,a=e.isMultipleX(),n=e.main.select('.'+c.default.eventRects).style('cursor',t.zoom_enabled?t.axis_rotated?'ns-resize':'ew-resize':null).classed(c.default.eventRectsMultiple,a).classed(c.default.eventRectsSingle,!a),s,d;if(n.selectAll('.'+c.default.eventRect).remove(),e.eventRect=n.selectAll('.'+c.default.eventRect),a?(s=e.eventRect.data([0]),s=e.generateEventRectsForMultipleXs(s.enter()).merge(s),e.updateEventRect(s)):(d=e.getMaxDataCountTarget(e.data.targets),n.datum(d?d.values:[]),e.eventRect=n.selectAll('.'+c.default.eventRect),s=e.eventRect.data(function(e){return e}),s.exit().remove(),s=e.generateEventRectsForSingleX(s.enter()).merge(s),e.updateEventRect(s)),'touch'===e.inputType&&!e.hasArcType()){var o=function(){var e=r.event.changedTouches[0];return(0,r.select)(document.elementFromPoint(e.clientX,e.clientY))},l=function(e){var t=e&&e.attr('class')&&1*e.attr('class').replace(new RegExp('('+c.default.eventRect+'-?|s)','g'),'');return(isNaN(t)||null===t)&&(t=-1),t},u=function(t){if(a)e.selectRectForMultipleXs(t);else{var i=o(),n=l(i);-1===n?e.unselectRect():e.selectRectForSingle(t,i,n)}},p=t.interaction_inputType_touch.preventDefault,x=(0,g.isBoolean)(p)&&p||!1,h=!isNaN(p)&&p||null,_=function(e){var a=e.type,n=e.changedTouches[0],s=n['client'+(t.axis_rotated?'Y':'X')];'touchstart'===a?x?e.preventDefault():null!==h&&(f=s):'touchmove'===a&&(x||!0===f||null!==h&&i(f-s)>=h)&&(f=!0,e.preventDefault())},f;e.svg.on('touchstart touchmove',function(){var t=o();if(!t.empty()&&t.classed(c.default.eventRect)){if(e.dragging||e.flowing||e.hasArcType())return;_(r.event),u(this)}else e.unselectRect()}).on('touchend',function(){var i=o();if(!i.empty()&&i.classed(c.default.eventRect)){if(e.hasArcType()||!e.toggleShape||e.cancelClick)return void(e.cancelClick&&(e.cancelClick=!1));var n=l(i);a||-1===n||e.main.selectAll('.'+c.default.shape+'-'+n).each(function(a){return t.data_onout.call(e.api,a)})}})}},updateEventRect:function(e){var t=this,a=t.config,i=t.zoomScale||t.x,n=e||t.eventRect.data(),r,d,o,l;if(t.isMultipleX())r=0,d=0,o=t.width,l=t.height;else{var c,g;(t.isCustomX()||t.isTimeSeries())&&!t.isCategorized()?(t.updateXs(),c=function(e){var n=t.getPrevX(e.index),r=t.getNextX(e.index);return null===n&&null===r?a.axis_rotated?t.height:t.width:(null===n&&(n=i.domain()[0]),null===r&&(r=i.domain()[1]),s(0,(i(r)-i(n))/2))},g=function(e){var a=t.getNextX(e.index),n=t.data.xs[e.id][e.index],s=t.getPrevX(e.index);return null===s&&null===a?0:(null===s&&(s=i.domain()[0]),(i(n)+i(s))/2)}):(c=t.getEventRectWidth(),g=function(e){return i(e.x)-c/2}),r=a.axis_rotated?0:g,d=a.axis_rotated?g:0,o=a.axis_rotated?t.width:c,l=a.axis_rotated?c:t.height}n.attr('class',t.classEvent.bind(t)).attr('x',r).attr('y',d).attr('width',o).attr('height',l)},selectRectForSingle:function(e,t,a){var i=this,n=i.config,s=i.filterTargetsToShow(i.data.targets).map(function(e){return i.addName(i.getValueOnIndex(e.values,a))});n.tooltip_grouped&&(i.showTooltip(s,e),i.showXGridFocus(s),!n.data_selection_enabled||n.data_selection_grouped)||i.main.selectAll('.'+c.default.shape+'-'+a).each(function(){(0,r.select)(this).classed(c.default.EXPANDED,!0),n.data_selection_enabled&&t.style('cursor',n.data_selection_grouped?'pointer':null),n.tooltip_grouped||(i.hideXGridFocus(),i.hideTooltip(),!n.data_selection_grouped&&(i.unexpandCircles(a),i.unexpandBars(a)))}).filter(function(e){return i.isWithinShape(this,e)}).each(function(e){n.data_selection_enabled&&(n.data_selection_grouped||n.data_selection_isselectable(e))&&t.style('cursor','pointer'),n.tooltip_grouped||(i.showTooltip([e],this),i.showXGridFocus([e]),n.point_focus_expand_enabled&&i.expandCircles(a,e.id,!0),i.expandBars(a,e.id,!0))})},selectRectForMultipleXs:function(e){var t=this,a=t.config,i=t.filterTargetsToShow(t.data.targets);if(!(t.dragging||t.hasArcType(i))){var n=(0,r.mouse)(t.main.select('.'+c.default.eventRects+' .'+c.default.eventRect).node()),s=t.findClosestFromTargets(i,n),d;if(t.mouseover&&(!s||s.id!==t.mouseover.id)&&(a.data_onout.call(t.api,t.mouseover),t.mouseover=void 0),!s)return void t.unselectRect();d=t.isScatterType(s)||!a.tooltip_grouped?[s]:t.filterByX(i,s.x);var o=d.map(function(e){return t.addName(e)});t.showTooltip(o,e),a.point_focus_expand_enabled&&t.expandCircles(s.index,s.id,!0),t.expandBars(s.index,s.id,!0),t.showXGridFocus(o),(t.isBarType(s.id)||t.dist(s,n)<a.point_sensitivity)&&(t.svg.select(''+c.default.eventRect).style('cursor','pointer'),!t.mouseover&&(a.data_onover.call(t.api,s),t.mouseover=s))}},unselectRect:function(){var e=this;e.svg.select('.'+c.default.eventRect).style('cursor',null),e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars()},generateEventRectsForSingleX:function(e){var t=this,a=t.config,i=e.append('rect').attr('class',t.classEvent.bind(t)).style('cursor',a.data_selection_enabled&&a.data_selection_grouped?'pointer':null).on('click',function(e){if(t.hasArcType()||!t.toggleShape||t.cancelClick)return void(t.cancelClick&&(t.cancelClick=!1));var i=e.index;t.main.selectAll('.'+c.default.shape+'-'+i).each(function(e){(a.data_selection_grouped||t.isWithinShape(this,e))&&(t.toggleShape(this,e,i),t.config.data_onclick.call(t.api,e,this))})}).call(a.data_selection_draggable&&t.drag?(0,r.drag)().origin(Object).on('drag',function(){t.drag((0,r.mouse)(this))}).on('dragstart',function(){t.dragstart((0,r.mouse)(this))}).on('dragend',function(){t.dragend()}):function(){});return'mouse'===t.inputType&&i.on('mouseover',function(e){if(!(t.dragging||t.flowing||t.hasArcType())){var i=e.index;a.point_focus_expand_enabled&&t.expandCircles(i,null,!0),t.expandBars(i,null,!0),-1!==i&&t.main.selectAll('.'+c.default.shape+'-'+i).each(function(e){return a.data_onover.call(t.api,e)})}}).on('mousemove',function(e){if(!(t.dragging||t.flowing||t.hasArcType())){var a=e.index,i=t.svg.select('.'+c.default.eventRect+'-'+a);t.isStepType(e)&&'step-after'===t.config.line_step_type&&(0,r.mouse)(this)[0]<t.x(t.getXValue(e.id,a))&&(a-=1),-1===a?t.unselectRect():t.selectRectForSingle(this,i,a)}}).on('mouseout',function(e){if(t.config&&!t.hasArcType()){var i=e.index;t.unselectRect(),t.main.selectAll('.'+c.default.shape+'-'+i).each(function(e){return a.data_onout.call(t.api,e)})}}),i},generateEventRectsForMultipleXs:function(e){var t=this,a=t.config,i=e.append('rect').attr('x',0).attr('y',0).attr('width',t.width).attr('height',t.height).attr('class',c.default.eventRect).on('click',function(){var e=this,i=t.filterTargetsToShow(t.data.targets);if(!t.hasArcType(i)){var n=(0,r.mouse)(this),s=t.findClosestFromTargets(i,n);!s||(t.isBarType(s.id)||t.dist(s,n)<a.point_sensitivity)&&t.main.selectAll('.'+c.default.shapes+t.getTargetSelectorSuffix(s.id)).selectAll('.'+c.default.shape+'-'+s.index).each(function(){(a.data_selection_grouped||t.isWithinShape(e,s))&&(t.toggleShape(e,s,s.index),t.config.data_onclick.call(t.api,s,e))})}}).call(a.data_selection_draggable&&t.drag?(0,r.drag)().origin(Object).on('drag',function(){t.drag((0,r.mouse)(this))}).on('dragstart',function(){t.dragstart((0,r.mouse)(this))}).on('dragend',function(){t.dragend()}):function(){});return'mouse'===t.inputType&&i.on('mouseover',function(){t.selectRectForMultipleXs(this)}).on('mouseout',function(){!t.config||t.hasArcType()||t.unselectRect()}).on('mousemove',function(){t.selectRectForMultipleXs(this)}),i},dispatchEvent:function(e,t,a){var i=this,n=i.isMultipleX()?'.'+c.default.eventRect:c.default.eventRect+'-'+t,s=i.main.select(n).node(),r=s.getBoundingClientRect(),d=r.left+(a?a[0]:0),o=r.top+(a?a[1]:0),l=document.createEvent('MouseEvents').initMouseEvent(e,!0,!0,window,0,d,o,d,o,!1,!1,!1,!1,0,null);s.dispatchEvent(l)}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var r=a(1),d=i(r),o=a(3),l=i(o),c=a(0);(0,c.extend)(d.default.prototype,{getCurrentWidth:function(){var e=this,t=e.config;return t.size_width?t.size_width:e.getParentWidth()},getCurrentHeight:function(){var e=this,t=e.config,a=t.size_height?t.size_height:e.getParentHeight();return 0<a?a:320/(e.hasType('gauge')&&!t.gauge_fullCircle?2:1)},getCurrentPaddingTop:function(){var e=this,t=e.config,a=(0,c.isValue)(t.padding_top)?t.padding_top:0;return e.title&&e.title.node()&&(a+=e.getTitlePadding()),a},getCurrentPaddingBottom:function(){var e=this.config;return(0,c.isValue)(e.padding_bottom)?e.padding_bottom:0},getCurrentPaddingLeft:function(e){var t=this,a=t.config,i;return i=(0,c.isValue)(a.padding_left)?a.padding_left:a.axis_rotated?a.axis_x_show?s((0,c.ceil10)(t.getAxisWidthByAxisId('x',e)),40):1:!a.axis_y_show||a.axis_y_inner?t.axis.getYAxisLabelPosition().isOuter?30:1:(0,c.ceil10)(t.getAxisWidthByAxisId('y',e)),i},getCurrentPaddingRight:function(){var e=this,t=e.config,a=e.isLegendRight?e.getLegendWidth()+20:0,i;return i=(0,c.isValue)(t.padding_right)?t.padding_right+1:t.axis_rotated?10+a:!t.axis_y2_show||t.axis_y2_inner?2+a+(e.axis.getY2AxisLabelPosition().isOuter?20:0):(0,c.ceil10)(e.getAxisWidthByAxisId('y2'))+a,i},getParentRectValue:function(e){for(var t=this.selectChart.node(),a=void 0;t&&'BODY'!==t.tagName;){try{a=t.getBoundingClientRect()[e]}catch(i){'width'===e&&(a=t.offsetWidth)}if(a)break;t=t.parentNode}return a},getParentWidth:function(){return this.getParentRectValue('width')},getParentHeight:function(){var e=this.selectChart.style('height');return 0<e.indexOf('px')?+e.replace('px',''):0},getSvgLeft:function(e){var t=this,a=t.config,i=a.axis_rotated||!a.axis_rotated&&!a.axis_y_inner,n=a.axis_rotated?l.default.axisX:l.default.axisY,s=t.main.select('.'+n).node(),r=s&&i?s.getBoundingClientRect():{right:0},d=t.selectChart.node().getBoundingClientRect(),o=t.hasArcType(),c=r.right-d.left-(o?0:t.getCurrentPaddingLeft(e));return 0<c?c:0},getAxisWidthByAxisId:function(e,t){var a=this,i=a.axis.getLabelPositionById(e);return a.axis.getMaxTickWidth(e,t)+(i.isInner?20:40)},getHorizontalAxisHeight:function(e){var t=Math.cos,a=this,i=a.config,s=30;return'x'!==e||i.axis_x_show?'x'===e&&i.axis_x_height?i.axis_x_height:'y'!==e||i.axis_y_show?'y2'!==e||i.axis_y2_show?('x'===e&&!i.axis_rotated&&i.axis_x_tick_rotate&&(s=30+a.axis.getMaxTickWidth(e)*t(n*(90-i.axis_x_tick_rotate)/180)),'y'===e&&i.axis_rotated&&i.axis_y_tick_rotate&&(s=30+a.axis.getMaxTickWidth(e)*t(n*(90-i.axis_y_tick_rotate)/180)),s+(a.axis.getLabelPositionById(e).isInner?0:10)+('y2'===e?-10:0)):a.rotated_padding_top:!i.legend_show||a.isLegendRight||a.isLegendInset?1:10:8},getEventRectWidth:function(){return s(0,this.xAxis.tickInterval())}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),s=a(3),r=i(s),d=a(1),o=i(d),l=a(0);(0,l.extend)(o.default.prototype,{getShapeIndices:function(e){var t=this,a=t.config,n={},s=0,i,r;return t.filterTargetsToShow(t.data.targets.filter(e,t)).forEach(function(e){for(i=0;i<a.data_groups.length;i++)if(!(0>a.data_groups[i].indexOf(e.id)))for(r=0;r<a.data_groups[i].length;r++)if(a.data_groups[i][r]in n){n[e.id]=n[a.data_groups[i][r]];break}(0,l.isUndefined)(n[e.id])&&(n[e.id]=s++)}),n.__max__=s-1,n},getShapeX:function(e,t,a,i){var n=this,s=i?n.subX:n.zoomScale?n.zoomScale:n.x;return function(i){var n=i.id in a?a[i.id]:0;return i.x||0===i.x?s(i.x)-e*(t/2-n):0}},getShapeY:function(e){var t=this;return function(a){var i=e?t.getSubYScale(a.id):t.getYScale(a.id);return i(a.value)}},getShapeOffset:function(e,a,t){var n=this,s=n.orderTargets(n.filterTargetsToShow(n.data.targets.filter(e,n))),r=s.map(function(e){return e.id});return function(e,d){var o=t?n.getSubYScale(e.id):n.getYScale(e.id),l=o(0),c=l,g=d;return s.forEach(function(i){var t=n.isStepType(e)?n.convertValuesToStep(i.values):i.values;i.id===e.id||a[i.id]!==a[e.id]||r.indexOf(i.id)<r.indexOf(e.id)&&(('undefined'===typeof t[g]||+t[g].x!==+e.x)&&(g=-1,t.forEach(function(t,a){var i=t.x.constructor===Date?+t.x:t.x,n=e.x.constructor===Date?+e.x:e.x;i===n&&(g=a)})),g in t&&0<=t[g].value*e.value&&(c+=o(t[g].value)-l))}),c}},isWithinShape:function(e,t){var a=this,i=(0,n.select)(e),s;return a.isTargetToShow(t.id)?'circle'===e.nodeName?s=a.isStepType(t)?a.isWithinStep(e,a.getYScale(t.id)(t.value)):a.isWithinCircle(e,1.5*a.pointSelectR(t)):'path'===e.nodeName&&(s=!i.classed(r.default.bar)||a.isWithinBar(e)):s=!1,s},getInterpolate:function(e){var t=this,a=t.getInterpolateType(e);return{basis:n.curveBasis,"basis-closed":n.curveBasisClosed,"basis-open":n.curveBasisOpen,bundle:n.curveBundle,cardinal:n.curveCardinal,"cardinal-closed":n.curveCardinalClosed,"cardinal-open":n.curveCardinalOpen,"catmull-rom":n.curveCatmullRom,"catmull-rom-closed":n.curveCatmullRomClosed,"catmull-rom-open":n.curveCatmullRomOpen,"monotone-x":n.curveMonotoneX,"monotone-y":n.curveMonotoneY,natural:n.curveNatural,"linear-closed":n.curveLinearClosed,linear:n.curveLinear,step:n.curveStep,"step-after":n.curveStepAfter,"step-before":n.curveStepBefore}[a]},getInterpolateType:function(e){var t=this,a=t.isInterpolationType(t.config.spline_interpolation_type)?t.config.spline_interpolation_type:'cardinal';return t.isSplineType(e)?a:t.isStepType(e)?t.config.line_step_type:'linear'}})},function(e,n,s){'use strict';function r(e){return e&&e.__esModule?e:{default:e}}var d=s(2),o=s(3),l=r(o),c=s(1),g=r(c),u=s(0);(0,u.extend)(g.default.prototype,{initLine:function(){var e=this;e.main.select('.'+l.default.chart).append('g').attr('class',l.default.chartLines)},updateTargetsForLine:function(e){var a=this,t=a.config,i=a.classChartLine.bind(a),n=a.classLines.bind(a),s=a.classAreas.bind(a),r=a.classCircles.bind(a),o=a.classFocus.bind(a),d=a.main.select('.'+l.default.chartLines).selectAll('.'+l.default.chartLine).data(e).attr('class',function(e){return i(e)+o(e)}),c=d.enter().append('g').attr('class',i).style('opacity','0').style('pointer-events','none');c.append('g').attr('class',n),c.append('g').attr('class',s),t.point_show&&(t.data_selection_enabled&&c.append('g').attr('class',function(e){return a.generateClass(l.default.selectedCircles,e.id)}),c.append('g').attr('class',r).style('cursor',function(e){return t.data_selection_isselectable(e)?'pointer':null})),e.forEach(function(e){a.main.selectAll('.'+l.default.selectedCircles+a.getTargetSelectorSuffix(e.id)).selectAll(''+l.default.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},updateLine:function(e){var t=this;t.mainLine=t.main.selectAll('.'+l.default.lines).selectAll('.'+l.default.line).data(t.lineData.bind(t)),t.mainLine.exit().transition().duration(e).style('opacity','0').remove(),t.mainLine=t.mainLine.enter().append('path').attr('class',t.classLine.bind(t)).style('stroke',t.color).merge(t.mainLine).style('opacity',t.initialOpacity.bind(t)).style('shape-rendering',function(e){return t.isStepType(e)?'crispEdges':''}).attr('transform',null)},redrawLine:function(e,t){return[(t?this.mainLine.transition(Math.random().toString()):this.mainLine).attr('d',e).style('stroke',this.color).style('opacity','1')]},generateDrawLine:function(e,t){var a=this,n=a.config,i=n.line_connectNull,s=n.axis_rotated,r=a.generateGetLinePoints(e,t),o=t?a.getSubYScale:a.getYScale,l=function(e){return(t?a.subxx:a.xx).call(a,e)},c=function(e,t){return 0<n.data_groups.length?r(e,t)[0][1]:o.call(a,e.id)(e.value)},g=(0,d.line)();return g=s?g.x(c).y(l):g.x(l).y(c),i||(g=g.defined(function(e){return null!==e.value})),function(e){var r=t?a.x:a.subX,d=o.call(a,e.id),l=i?a.filterRemoveNull(e.values):e.values,c=0,u=0,p;return a.isLineType(e)?n.data_regions[e.id]?p=a.lineWithRegions(l,r,d,n.data_regions[e.id]):(a.isStepType(e)&&(l=a.convertValuesToStep(l)),p=g.curve(a.getInterpolate(e))(l)):(l[0]&&(c=r(l[0].x),u=d(l[0].value)),p=s?'M '+u+' '+c:'M '+c+' '+u),p||'M 0 0'}},generateGetLinePoints:function(e,t){var a=this,n=a.config,i=e.__max__+1,s=!!t,r=a.getShapeX(0,i,e,s),o=a.getShapeY(s),l=a.getShapeOffset(a.isLineType,e,s),c=s?a.getSubYScale:a.getYScale;return function(e,t){var i=c.call(a,e.id)(0),s=l(e,t)||i,d=r(e),g=o(e);n.axis_rotated&&(0<e.value&&g<i||0>e.value&&i<g)&&(g=i);var u=[d,g-(i-s)];return[u,u,u,u]}},lineWithRegions:function(e,n,r,d){function o(e,t){var a;for(a=0;a<t.length;a++)if(t[a].start<e&&e<=t[a].end)return!0;return!1}function l(e){return'M'+e[0][0]+' '+e[0][1]+' '+e[1][0]+' '+e[1][1]}var c=this,g=c.config,p=c.isCategorized()?0.5:0,x=[],h='M',s,i,_,f,m,y,b,T,v,A;if((0,u.isDefined)(d))for(s=0;s<d.length;s++)x[s]={},x[s].start=(0,u.isUndefined)(d[s].start)?e[0].x:c.isTimeSeries()?c.parseDate(d[s].start):d[s].start,x[s].end=(0,u.isUndefined)(d[s].end)?e[e.length-1].x:c.isTimeSeries()?c.parseDate(d[s].end):d[s].end;var w=g.axis_rotated?function(e){return r(e.value)}:function(e){return n(e.x)},L=g.axis_rotated?function(e){return n(e.x)}:function(e){return r(e.value)};for(_=c.isTimeSeries()?function(e,t,a,i){var s=e.x.getTime(),d=t.x-e.x,o=new Date(s+d*a),c=new Date(s+d*(a+i)),u;return u=g.axis_rotated?[[r(m(a)),n(o)],[r(m(a+v)),n(c)]]:[[n(o),r(m(a))],[n(c),r(m(a+v))]],l(u)}:function(e,t,a,i){var s;return s=g.axis_rotated?[[r(m(a),!0),n(f(a))],[r(m(a+i),!0),n(f(a+i))]]:[[n(f(a),!0),r(m(a))],[n(f(a+i),!0),r(m(a+i))]],l(s)},s=0;s<e.length;s++)if((0,u.isUndefined)(x)||!o(e[s].x,x))h+=' '+w(e[s])+' '+L(e[s]);else for(f=c.getScale(e[s-1].x+p,e[s].x+p,c.isTimeSeries()),m=c.getScale(e[s-1].value,e[s].value),y=n(e[s].x)-n(e[s-1].x),b=r(e[s].value)-r(e[s-1].value),T=t(a(y,2)+a(b,2)),v=2/T,A=2*v,i=v;1>=i;i+=A)h+=_(e[s-1],e[s],i,v);return h},updateArea:function(e){var t=this;t.mainArea=t.main.selectAll('.'+l.default.areas).selectAll('.'+l.default.area).data(t.lineData.bind(t)),t.mainArea.exit().transition().duration(e).style('opacity','0').remove(),t.mainArea=t.mainArea.enter().append('path').attr('class',t.classArea.bind(t)).style('fill',t.color).style('opacity',function(){return t.orgAreaOpacity=(0,d.select)(this).style('opacity'),'0'}).merge(t.mainArea),t.mainArea.style('opacity',t.orgAreaOpacity)},redrawArea:function(e,t){return[(t?this.mainArea.transition(Math.random().toString()):this.mainArea).attr('d',e).style('fill',this.color).style('opacity',this.orgAreaOpacity)]},generateDrawArea:function(e,t){var a=this,n=a.config,i=n.line_connectNull,s=n.axis_rotated,r=a.generateGetAreaPoints(e,t),o=t?a.getSubYScale:a.getYScale,l=function(e){return(t?a.subxx:a.xx).call(a,e)},c=function(e,t){return 0<n.data_groups.length?r(e,t)[0][1]:o.call(a,e.id)(a.getAreaBaseValue(e.id))},g=function(e,t){return 0<n.data_groups.length?r(e,t)[1][1]:o.call(a,e.id)(e.value)},u=(0,d.area)();return u=s?u.x0(c).x1(g).y(l):u.x(l).y0(n.area_above?0:c).y1(g),i||(u=u.defined(function(e){return null!==e.value})),function(e){var t=i?a.filterRemoveNull(e.values):e.values,n=0,r=0,d;return a.isAreaType(e)?(a.isStepType(e)&&(t=a.convertValuesToStep(t)),d=u.curve(a.getInterpolate(e))(t)):(t[0]&&(n=a.x(t[0].x),r=a.getYScale(e.id)(t[0].value)),d=s?'M '+r+' '+n:'M '+n+' '+r),d||'M 0 0'}},getAreaBaseValue:function(){return 0},generateGetAreaPoints:function(e,t){var a=this,n=a.config,i=e.__max__+1,s=a.getShapeX(0,i,e,!!t),r=a.getShapeY(!!t),o=a.getShapeOffset(a.isAreaType,e,!!t),l=t?a.getSubYScale:a.getYScale;return function(e,t){var i=l.call(a,e.id)(0),d=o(e,t)||i,c=s(e),g=r(e);return n.axis_rotated&&(0<e.value&&g<i||0>e.value&&i<g)&&(g=i),[[c,d],[c,g-(i-d)],[c,g-(i-d)],[c,d]]}},updateCircle:function(){var e=this;e.config.point_show&&(e.mainCircle=e.main.selectAll('.'+l.default.circles).selectAll('.'+l.default.circle).data(e.lineOrScatterData.bind(e)),e.mainCircle.exit().remove(),e.mainCircle=e.mainCircle.enter().append('circle').attr('class',e.classCircle.bind(e)).attr('r',e.pointR.bind(e)).style('fill',e.color).merge(e.mainCircle).style('opacity',e.initialOpacityForCircle.bind(e)))},redrawCircle:function(e,t,a,i){var n=this.main.selectAll('.'+l.default.selectedCircle),s;if(!this.config.point_show)return[];if(a){var r=Math.random().toString();s=i?this.mainCircle.attr('cx',e).transition(r).attr('cx',e).attr('cy',t).transition(r).style('opacity',this.opacityForCircle.bind(this)).style('fill',this.color):this.mainCircle.transition(r).attr('cx',e).attr('cy',t).transition(r).style('opacity',this.opacityForCircle.bind(this)).style('fill',this.color),n=n.transition(Math.random().toString())}else s=this.mainCircle.attr('cx',e).attr('cy',t).style('opacity',this.opacityForCircle.bind(this)).style('fill',this.color);return[s,n.attr('cx',e).attr('cy',t)]},circleX:function(e){return this.config.zoom_enabled&&this.zoomScale?e.x||0===e.x?this.zoomScale(e.x):null:e.x||0===e.x?this.x(e.x):null},updateCircleY:function(){var e=this,t,a;0<e.config.data_groups.length?(t=e.getShapeIndices(e.isLineType),a=e.generateGetLinePoints(t),e.circleY=function(e,t){return a(e,t)[0][1]}):e.circleY=function(t){return e.getYScale(t.id)(t.value)}},getCircles:function(e,t){var a=this,i=(0,u.isValue)(e)?'-'+e:'';return(t?a.main.selectAll('.'+l.default.circles+a.getTargetSelectorSuffix(t)):a.main).selectAll('.'+l.default.circle+i)},expandCircles:function(e,t,a){var i=this,n=i.pointExpandedR.bind(i);a&&i.unexpandCircles(),i.getCircles(e,t).classed(l.default.EXPANDED,!0).attr('r',n)},unexpandCircles:function(e){var t=this,a=t.pointR.bind(t);t.getCircles(e).filter(function(){return(0,d.select)(this).classed(l.default.EXPANDED)}).classed(l.default.EXPANDED,!1).attr('r',a)},pointR:function(e){var t=this,a=t.config;return t.isStepType(e)?0:(0,u.isFunction)(a.point_r)?a.point_r(e):a.point_r},pointExpandedR:function(e){var t=this,a=t.config;return a.point_focus_expand_enabled?a.point_focus_expand_r?a.point_focus_expand_r:1.75*t.pointR(e):t.pointR(e)},pointSelectR:function(e){var t=this,a=t.config;return(0,u.isFunction)(a.point_select_r)?a.point_select_r(e):a.point_select_r?a.point_select_r:4*t.pointR(e)},isWithinCircle:function(e,i){var n=(0,d.mouse)(e),s=(0,d.select)(e),r=+s.attr('cx'),o=+s.attr('cy');return t(a(r-n[0],2)+a(o-n[1],2))<i},isWithinStep:function(e,t){return 30>i(t-(0,d.mouse)(e)[1])}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),s=a(3),r=i(s),o=a(1),l=i(o),c=a(0);(0,c.extend)(l.default.prototype,{initBar:function(){var e=this;e.main.select('.'+r.default.chart).append('g').attr('class',r.default.chartBars)},updateTargetsForBar:function(e){var t=this,a=t.config,i=t.classChartBar.bind(t),n=t.classBars.bind(t),s=t.classFocus.bind(t),d=t.main.select('.'+r.default.chartBars).selectAll('.'+r.default.chartBar).data(e).attr('class',function(e){return i(e)+s(e)}),o=d.enter().append('g').attr('class',i).style('opacity','0').style('pointer-events','none');o.append('g').attr('class',n).style('cursor',function(e){return a.data_selection_isselectable(e)?'pointer':null})},updateBar:function(e){var t=this,a=t.barData.bind(t),i=t.classBar.bind(t),n=t.initialOpacity.bind(t),s=function(e){return t.color(e.id)};t.mainBar=t.main.selectAll('.'+r.default.bars).selectAll('.'+r.default.bar).data(a),t.mainBar.exit().transition().duration(e).style('opacity','0').remove(),t.mainBar=t.mainBar.enter().append('path').attr('class',i).style('stroke',s).style('fill',s).merge(t.mainBar).style('opacity',n)},redrawBar:function(e,t){return[(t?this.mainBar.transition(Math.random().toString()):this.mainBar).attr('d',e).style('fill',this.color).style('opacity','1')]},getBarW:function(e,t){var a=this,i=a.config,n='number'===typeof i.bar_width?i.bar_width:t?e.tickInterval()*i.bar_width_ratio/t:0;return i.bar_width_max&&n>i.bar_width_max?i.bar_width_max:n},getBars:function(e,t){var a=this,i=(0,c.isValue)(e)?'-'+e:'';return(t?a.main.selectAll('.'+r.default.bars+a.getTargetSelectorSuffix(t)):a.main).selectAll('.'+r.default.bar+i)},expandBars:function(e,t,a){var i=this;a&&i.unexpandBars(),i.getBars(e,t).classed(r.default.EXPANDED,!0)},unexpandBars:function(e){var t=this;t.getBars(e).classed(r.default.EXPANDED,!1)},generateDrawBar:function(e,t){var a=this,n=a.config,s=a.generateGetBarPoints(e,t);return function(e,t){var a=s(e,t),i=n.axis_rotated?1:0,r=n.axis_rotated?0:1,d='M '+a[0][i]+','+a[0][r]+'\n\t\t\tL '+a[1][i]+','+a[1][r]+'\n\t\t\tL '+a[2][i]+','+a[2][r]+'\n\t\t\tL '+a[3][i]+','+a[3][r]+' z';return d}},generateGetBarPoints:function(e,t){var a=this,i=t?a.subXAxis:a.xAxis,n=e.__max__+1,s=a.getBarW(i,n),r=a.getShapeX(s,n,e,!!t),o=a.getShapeY(!!t),l=a.getShapeOffset(a.isBarType,e,!!t),c=t?a.getSubYScale:a.getYScale;return function(e,t){var i=c.call(a,e.id)(0),n=l(e,t)||i,d=r(e),g=o(e);return a.config.axis_rotated&&(0<e.value&&g<i||0>e.value&&i<g)&&(g=i),[[d,n],[d,g-(i-n)],[d+s,g-(i-n)],[d+s,n]]}},isWithinBar:function(e){var t=(0,n.mouse)(e),a=(0,c.getRectSegList)(e),i=e.getBBox(),s=a[0],r=a[1],o=d(s.x,r.x),l=d(s.y,r.y),g=i.width,u=i.height,p=2,x=o-p<t[0]&&t[0]<o+g+p&&l-p<t[1]&&t[1]<l+u+p;return x}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),s=a(1),r=i(s),d=a(3),o=i(d),l=a(0);(0,l.extend)(r.default.prototype,{initText:function(){var e=this;e.main.select('.'+o.default.chart).append('g').attr('class',o.default.chartTexts),e.mainText=(0,n.selectAll)([])},updateTargetsForText:function(e){var t=this,a=t.classChartText.bind(t),i=t.classTexts.bind(t),n=t.classFocus.bind(t),s=t.main.select('.'+o.default.chartTexts).selectAll('.'+o.default.chartText).data(e).attr('class',function(e){return a(e)+n(e)}),r=s.enter().append('g').attr('class',a).style('opacity','0').style('pointer-events','none');r.append('g').attr('class',i)},updateText:function(e){var t=this,a=t.config,i=t.barOrLineData.bind(t),n=t.classText.bind(t);t.mainText=t.main.selectAll('.'+o.default.texts).selectAll('.'+o.default.text).data(i),t.mainText.exit().transition().duration(e).style('fill-opacity','0').remove(),t.mainText=t.mainText.enter().append('text').attr('class',n).attr('text-anchor',function(e){return a.axis_rotated?0>e.value?'end':'start':'middle'}).style('stroke','none').style('fill',function(e){return t.color(e)}).style('fill-opacity','0').merge(t.mainText).text(function(e,a,i){return t.dataLabelFormat(e.id)(e.value,e.id,a,i)})},redrawText:function(e,t,a,i){return[(i?this.mainText.transition():this.mainText).attr('x',e).attr('y',t).style('fill',this.color).style('fill-opacity',a?0:this.opacityForText.bind(this))]},getTextRect:function(e,t,a){var i=(0,n.select)('body').append('div').classed('bb',!0),s=i.append('svg').style('visibility','hidden').style('position','fixed').style('top','0px').style('left','0px'),r=(0,n.select)(a).style('font'),d;return s.selectAll('.dummy').data([e]).enter().append('text').classed(t?t:'',!0).style('font',r).text(e).each(function(){d=this.getBoundingClientRect()}),i.remove(),d},generateXYForText:function(e,t,a,i){var n=this,s=n.generateGetAreaPoints(e,!1),r=n.generateGetBarPoints(t,!1),o=n.generateGetLinePoints(a,!1),l=i?n.getXForText:n.getYForText;return function(e,t){var a=n.isAreaType(e)&&s||n.isBarType(e)&&r||o;return l.call(n,a(e,t),e,this)}},getXForText:function(e,t,a){var i=this,n=i.config,s,r;return n.axis_rotated?(r=i.isBarType(t)?4:6,s=e[2][1]+r*(0>t.value?-1:1)):s=i.hasType('bar')?(e[2][0]+e[0][0])/2:e[0][0],null===t.value&&(s>i.width?s=i.width-a.getBoundingClientRect().width:0>s&&(s=4)),s+(n.data_labels_position.x||0)},getYForText:function(e,t,a){var i=this,n=i.config,s;if(n.axis_rotated?s=(e[0][0]+e[2][0]+0.6*a.getBoundingClientRect().height)/2:(s=e[2][1],0>t.value||0===t.value&&!i.hasPositiveValue?(s+=a.getBoundingClientRect().height,i.isBarType(t)&&i.isSafari()?s-=3:!i.isBarType(t)&&i.isChrome()&&(s+=3)):s+=i.isBarType(t)?-3:-6),null===t.value&&!n.axis_rotated){var r=a.getBoundingClientRect().height;s<r?s=r:s>this.height&&(s=this.height-4)}return s+(n.data_labels_position.y||0)}})},function(e,t,a){'use strict';var i=a(1),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(0);(0,s.extend)(n.default.prototype,{setTargetType:function(e,t){var a=this,i=a.config;a.mapToTargetIds(e).forEach(function(e){a.withoutFadeIn[e]=t===i.data_types[e],i.data_types[e]=t}),e||(i.data_type=t)},hasType:function(e,t){var a=this,i=a.config.data_types,n=t||a.data.targets,s=!1;return n&&n.length?n.forEach(function(a){var n=i[a.id];(n&&0<=n.indexOf(e)||!n&&'line'===e)&&(s=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(t){i[t]===e&&(s=!0)}):s=a.config.data_type===e,s},hasArcType:function(e){return this.hasType('pie',e)||this.hasType('donut',e)||this.hasType('gauge',e)},isLineType:function(e){var t=(0,s.isString)(e)?e:e.id;return!this.config.data_types[t]||this.isTypeOf(t,['line','spline','area','area-spline','step','area-step'])},isTypeOf:function(e,t){var a=(0,s.isString)(e)?e:e.id,i=this.config.data_types[a];return(0,s.isArray)(t)?0<=t.indexOf(i):i===t},isStepType:function(e){return this.isTypeOf(e,['step','area-step'])},isSplineType:function(e){return this.isTypeOf(e,['spline','area-spline'])},isAreaType:function(e){return this.isTypeOf(e,['area','area-spline','area-step'])},isBarType:function(e){return this.isTypeOf(e,'bar')},isScatterType:function(e){return this.isTypeOf(e,'scatter')},isPieType:function(e){return this.isTypeOf(e,'pie')},isGaugeType:function(e){return this.isTypeOf(e,'gauge')},isDonutType:function(e){return this.isTypeOf(e,'donut')},isArcType:function(e){return this.isPieType(e)||this.isDonutType(e)||this.isGaugeType(e)},lineData:function(e){return this.isLineType(e)?[e]:[]},arcData:function(e){return this.isArcType(e.data)?[e]:[]},barData:function(e){return this.isBarType(e)?e.values:[]},lineOrScatterData:function(e){return this.isLineType(e)||this.isScatterType(e)?e.values:[]},barOrLineData:function(e){return this.isBarType(e)||this.isLineType(e)?e.values:[]},isInterpolationType:function(e){return 0<=['basis','basis-closed','basis-open','bundle','cardinal','cardinal-closed','cardinal-open','catmull-rom','catmull-rom-closed','catmull-rom-open','linear','linear-closed','monotone-x','monotone-y','natural'].indexOf(e)}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),s=a(1),r=i(s),d=a(3),o=i(d),l=a(0);(0,l.extend)(r.default.prototype,{initGrid:function(){var e=this,t=e.config;e.grid=e.main.append('g').attr('clip-path',e.clipPathForGrid).attr('class',o.default.grid),t.grid_x_show&&e.grid.append('g').attr('class',o.default.xgrids),t.grid_y_show&&e.grid.append('g').attr('class',o.default.ygrids),t.grid_focus_show&&e.grid.append('g').attr('class',o.default.xgridFocus).append('line').attr('class',o.default.xgridFocus),e.xgrid=(0,n.selectAll)([]),t.grid_lines_front||e.initGridLines()},initGridLines:function(){var e=this;e.gridLines=e.main.append('g').attr('clip-path',e.clipPathForGrid).attr('class',o.default.grid+' '+o.default.gridLines),e.gridLines.append('g').attr('class',o.default.xgridLines),e.gridLines.append('g').attr('class',o.default.ygridLines),e.xgridLines=(0,n.selectAll)([])},updateXGrid:function(e){var t=this,a=t.config,i=t.generateGridData(a.grid_x_type,t.x),s=t.isCategorized()?t.xAxis.tickOffset():0;t.xgridAttr=a.axis_rotated?{x1:0,x2:t.width,y1:function(e){return t.x(e)-s},y2:function(e){return t.x(e)-s}}:{x1:function(e){return t.x(e)+s},x2:function(e){return t.x(e)+s},y1:0,y2:t.height},t.xgrid=t.main.select('.'+o.default.xgrids).selectAll('.'+o.default.xgrid).data(i),t.xgrid.exit().remove(),t.xgrid=t.xgrid.enter().append('line').attr('class',o.default.xgrid).merge(t.xgrid),e||t.xgrid.each(function(){var e=(0,n.select)(this);Object.keys(t.xgridAttr).forEach(function(i){e.attr(i,t.xgridAttr[i]).style('opacity',function(){return e.attr(a.axis_rotated?'y1':'x1')===(a.axis_rotated?t.height:0)?'0':'1'})})})},updateYGrid:function(){var e=this,t=e.config,a=e.yAxis.tickValues()||e.y.ticks(t.grid_y_ticks);e.ygrid=e.main.select('.'+o.default.ygrids).selectAll('.'+o.default.ygrid).data(a),e.ygrid.exit().remove(),e.ygrid=e.ygrid.enter().append('line').attr('class',o.default.ygrid).merge(e.ygrid),e.ygrid.attr('x1',t.axis_rotated?e.y:0).attr('x2',t.axis_rotated?e.y:e.width).attr('y1',t.axis_rotated?0:e.y).attr('y2',t.axis_rotated?e.height:e.y),e.smoothLines(e.ygrid,'grid')},gridTextAnchor:function(e){return e.position?e.position:'end'},gridTextDx:function(e){return'start'===e.position?4:'middle'===e.position?0:-4},xGridTextX:function(e){return'start'===e.position?-this.height:'middle'===e.position?-this.height/2:0},yGridTextX:function(e){return'start'===e.position?0:'middle'===e.position?this.width/2:this.width},updateGrid:function(e){var t=this,a=t.main,i=t.config;t.grid.style('visibility',t.hasArcType()?'hidden':'visible'),a.select('line.'+o.default.xgridFocus).style('visibility','hidden'),i.grid_x_show&&t.updateXGrid(),t.xgridLines=a.select('.'+o.default.xgridLines).selectAll('.'+o.default.xgridLine).data(i.grid_x_lines),t.xgridLines.exit().transition().duration(e).style('opacity','0').remove();var n=t.xgridLines.enter().append('g').attr('class',function(e){return o.default.xgridLine+(e.class?' '+e.class:'')});n.append('line').style('opacity','0'),n.append('text').attr('text-anchor',t.gridTextAnchor).attr('transform',i.axis_rotated?'':'rotate(-90)').attr('dx',t.gridTextDx).attr('dy',-5).style('opacity','0'),t.xgridLines=n.merge(t.xgridLines),i.grid_y_show&&t.updateYGrid(),t.ygridLines=a.select('.'+o.default.ygridLines).selectAll('.'+o.default.ygridLine).data(i.grid_y_lines),t.ygridLines.exit().transition().duration(e).style('opacity','0').remove();var s=t.ygridLines.enter().append('g').attr('class',function(e){return o.default.ygridLine+(e.class?' '+e.class:'')});s.append('line').style('opacity','0'),s.append('text').attr('text-anchor',t.gridTextAnchor).attr('transform',i.axis_rotated?'rotate(-90)':'').attr('dx',t.gridTextDx).attr('dy',-5).style('opacity','0'),t.ygridLines=s.merge(t.ygridLines);var r=t.yv.bind(t);t.ygridLines.select('line').transition().duration(e).attr('x1',i.axis_rotated?r:0).attr('x2',i.axis_rotated?r:t.width).attr('y1',i.axis_rotated?0:r).attr('y2',i.axis_rotated?t.height:r).transition().style('opacity','1'),t.ygridLines.select('text').transition().duration(e).attr('x',i.axis_rotated?t.xGridTextX.bind(t):t.yGridTextX.bind(t)).attr('y',r).text(function(e){return e.text}).transition().style('opacity','1')},redrawGrid:function(e){var t=this,a=t.config.axis_rotated,i=t.xv.bind(t),n=t.xgridLines.select('line'),s=t.xgridLines.select('text');return n=(e?n.transition():n).attr('x1',a?0:i).attr('x2',a?t.width:i).attr('y1',a?i:0).attr('y2',a?i:t.height),s=(e?s.transition():s).attr('x',a?t.yGridTextX.bind(t):t.xGridTextX.bind(t)).attr('y',i).text(function(e){return e.text}),[(e?n.transition():n).style('opacity','1'),(e?s.transition():s).style('opacity','1')]},showXGridFocus:function(e){var t=this,a=t.config,i=e.filter(function(e){return e&&(0,l.isValue)(e.value)}),n=t.main.selectAll('line.'+o.default.xgridFocus),s=t.xx.bind(t);!a.tooltip_show||t.hasType('scatter')||t.hasArcType()||(n.style('visibility','visible').data([i[0]]).attr(a.axis_rotated?'y1':'x1',s).attr(a.axis_rotated?'y2':'x2',s),t.smoothLines(n,'grid'))},hideXGridFocus:function(){this.main.select('line.'+o.default.xgridFocus).style('visibility','hidden')},updateXgridFocus:function(){var e=this,t=e.config;e.main.select('line.'+o.default.xgridFocus).attr('x1',t.axis_rotated?0:-10).attr('x2',t.axis_rotated?e.width:-10).attr('y1',t.axis_rotated?-10:0).attr('y2',t.axis_rotated?-10:e.height)},generateGridData:function(e,t){var a=this,n=a.main.select('.'+o.default.axisX).selectAll('.tick').size(),s=[];if('year'===e)for(var r=a.getXDomain(),d=r[0].getFullYear(),l=r[1].getFullYear(),c=d;c<=l;c++)s.push(new Date(c+'-01-01 00:00:00'));else s=t.ticks(10),s.length>n&&(s=s.filter(function(e){return 0>(e+'').indexOf('.')}));return s},getGridFilterToRemove:function(e){return e?function(t){var a=!1;return((0,l.isArray)(e)?e.concat():[e]).forEach(function(e){('value'in e&&t.value===e.value||'class'in e&&t.class===e.class)&&(a=!0)}),a}:function(){return!0}},removeGridLines:function(e,t){var a=this,i=a.config,n=a.getGridFilterToRemove(e),s=function(e){return!n(e)},r=t?o.default.xgridLines:o.default.ygridLines,d=t?o.default.xgridLine:o.default.ygridLine;a.main.select('.'+r).selectAll('.'+d).filter(n).transition().duration(i.transition_duration).style('opacity','0').remove(),t?i.grid_x_lines=i.grid_x_lines.filter(s):i.grid_y_lines=i.grid_y_lines.filter(s)}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),s=a(1),r=i(s),d=a(3),o=i(d),l=a(0);(0,l.extend)(r.default.prototype,{initTooltip:function(){var e=this,t=e.config,a;if(e.tooltip=e.selectChart.style('position','relative').append('div').attr('class',o.default.tooltipContainer).style('position','absolute').style('pointer-events','none').style('display','none'),t.tooltip_init_show){if(e.isTimeSeries()&&(0,l.isString)(t.tooltip_init_x)){for(t.tooltip_init_x=e.parseDate(t.tooltip_init_x),a=0;a<e.data.targets[0].values.length&&0!==e.data.targets[0].values[a].x-t.tooltip_init_x;a++);t.tooltip_init_x=a}e.tooltip.html(t.tooltip_contents.call(e,e.data.targets.map(function(a){return e.addName(a.values[t.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style('top',t.tooltip_init_position.top).style('left',t.tooltip_init_position.left).style('display','block')}},getTooltipContent:function(e,t,a,n){var s=this,r=s.config,d=r.tooltip_format_title||t,o=r.tooltip_format_name||function(e){return e},c=r.tooltip_format_value||a,g=r.tooltip_order,u,p,x,h,_;if(null===g&&r.data_groups.length){var f=s.orderTargets(s.data.targets).map(function(e){return e.id}).reverse();e.sort(function(e,t){var a=e?e.value:null,i=t?t.value:null;return 0<a&&0<i&&(a=e.id?f.indexOf(e.id):null,i=t.id?f.indexOf(t.id):null),a-i})}else /^(asc|desc)$/.test(g)?e.sort(function(e,t){var a=e?e.value:null,i=t?t.value:null;return'asc'===g?a-i:i-a}):(0,l.isFunction)(g)&&e.sort(g);for(var m=0,i=e.length,y;m<i;m++)if((y=e[m])&&(y.value||0===y.value)&&(u||(p=(0,l.sanitise)(d?d(y.x):y.x),u=p||0===p?'<tr><th colspan="2">'+p+'</th></tr>':'',u='<table class="'+s.CLASS.tooltip+'">'+u),x=(0,l.sanitise)(c(y.value,y.ratio,y.id,y.index,e)),x!==void 0)){if(null===y.name)continue;h=(0,l.sanitise)(o(y.name,y.ratio,y.id,y.index)),_=s.levelColor?s.levelColor(y.value):n(y.id),u+='<tr class="'+s.CLASS.tooltipName+s.getTargetSelectorSuffix(y.id)+'">\n\t\t\t\t\t\t\t<td class="name"><span style="background-color:'+_+'"></span>'+h+'</td>\n\t\t\t\t\t\t\t<td class="value">'+x+'</td>\n\t\t\t\t\t\t</tr>'}return u+'</table>'},tooltipPosition:function(e,t,a,i){var s=this,r=s.config,d=s.hasArcType(),o='touch'===s.inputType,l=(0,n.mouse)(i),c,g,u,p,x;return d?(g=o?l[0]:(s.width-(s.isLegendRight?s.getLegendWidth():0))/2+l[0],p=o?l[1]+20:s.height/2+l[1]+20):(c=s.getSvgLeft(!0),r.axis_rotated?(g=c+l[0]+100,u=g+t,x=s.currentWidth-s.getCurrentPaddingRight(),p=s.x(e[0].x)+20):(g=c+s.getCurrentPaddingLeft(!0)+s.x(e[0].x)+20,u=g+t,x=c+s.currentWidth-s.getCurrentPaddingRight(),p=l[1]+15),u>x&&(g-=u-x+20),p+a>s.currentHeight&&(p-=a+30)),0>p&&(p=0),{top:p,left:g}},showTooltip:function(e,t){var a=this,i=a.config,n=a.hasArcType(),s=e.filter(function(e){return e&&(0,l.isValue)(e.value)}),r=i.tooltip_position||a.tooltipPosition;if(0!==s.length&&i.tooltip_show){a.tooltip.html(i.tooltip_contents.call(a,e,a.axis.getXAxisTickFormat(),a.getYFormat(n),a.color)).style('display','block');var d=a.tooltip.property('offsetWidth'),o=a.tooltip.property('offsetHeight'),c=r.call(this,s,d,o,t);a.tooltip.style('top',c.top+'px').style('left',c.left+'px')}},hideTooltip:function(){this.tooltip.style('display','none')}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),r=a(1),d=i(r),o=a(3),c=i(o),g=a(0);(0,g.extend)(d.default.prototype,{initLegend:function(){var e=this,t=e.config;e.legendItemTextBox={},e.legendHasRendered=!1,e.legend=e.svg.append('g'),t.legend_show?t.legend_contents_bindto&&t.legend_contents_template?e.updateLegendTemplate():(e.legend.attr('transform',e.getTranslate('legend')),e.updateLegendWithDefaults()):(e.legend.style('visibility','hidden'),e.hiddenLegendIds=e.mapToIds(e.data.targets))},updateLegendTemplate:function(){var e=this,t=e.config,a=(0,n.select)(t.legend_contents_bindto),i=t.legend_contents_template;if(!a.empty()){var s=e.mapToIds(e.data.targets),r=[],d='';s.forEach(function(t){var a=(0,g.isFunction)(i)?i.call(e,t,e.color(t)):i.replace(/{=COLOR}/g,e.color(t)).replace(/{=TITLE}/g,t);a&&(r.push(t),d+=a)});var o=a.html(d).selectAll(function(){return this.childNodes}).data(r);e.setLegendItem(o)}},updateLegendWithDefaults:function(){var e=this;e.updateLegend(e.mapToIds(e.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},updateSizeForLegend:function(e,t){var a=this,i=a.config,n={top:a.isLegendTop?a.getCurrentPaddingTop()+i.legend_inset_y+5.5:a.currentHeight-e-a.getCurrentPaddingBottom()-i.legend_inset_y,left:a.isLegendLeft?a.getCurrentPaddingLeft()+i.legend_inset_x+0.5:a.currentWidth-t-a.getCurrentPaddingRight()-i.legend_inset_x+0.5};a.margin3={top:a.isLegendRight?0:a.isLegendInset?n.top:a.currentHeight-e,right:NaN,bottom:0,left:a.isLegendRight?a.currentWidth-t:a.isLegendInset?n.left:0}},transformLegend:function(e){var t=this;(e?t.legend.transition():t.legend).attr('transform',t.getTranslate('legend'))},updateLegendStep:function(e){this.legendStep=e},updateLegendItemWidth:function(e){this.legendItemWidth=e},updateLegendItemHeight:function(e){this.legendItemHeight=e},getLegendWidth:function(){var e=this;return e.config.legend_show?e.isLegendRight||e.isLegendInset?e.legendItemWidth*(e.legendStep+1):e.currentWidth:0},getLegendHeight:function(){var e=this,t=0;return e.config.legend_show&&(e.isLegendRight?t=e.currentHeight:t=s(20,e.legendItemHeight)*(e.legendStep+1)),t},opacityForLegend:function(e){return e.classed(c.default.legendItemHidden)?null:'1'},opacityForUnfocusedLegend:function(e){return e.classed(c.default.legendItemHidden)?null:'0.3'},toggleFocusLegend:function(e,t){var a=this,i=a.mapToTargetIds(e);a.legend.selectAll('.'+c.default.legendItem).filter(function(e){return 0<=i.indexOf(e)}).classed(c.default.legendItemFocused,t).transition().duration(100).style('opacity',function(){var e=t?a.opacityForLegend:a.opacityForUnfocusedLegend;return e.call(a,(0,n.select)(this))})},revertLegend:function(){var e=this;e.legend.selectAll('.'+c.default.legendItem).classed(c.default.legendItemFocused,!1).transition().duration(100).style('opacity',function(){return e.opacityForLegend((0,n.select)(this))})},showLegend:function(e){var t=this,a=t.config;a.legend_show||(a.legend_show=!0,t.legend.style('visibility','visible'),!t.legendHasRendered&&t.updateLegendWithDefaults()),t.removeHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style('visibility','visible').transition().style('opacity',function(){return t.opacityForLegend((0,n.select)(this))})},hideLegend:function(e){var t=this,a=t.config;a.legend_show&&(0,g.isEmpty)(e)&&(a.legend_show=!1,t.legend.style('visibility','hidden')),t.addHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style('opacity','0').style('visibility','hidden')},clearLegendItemTextBoxCache:function(){this.legendItemTextBox={}},setLegendItem:function(e){var t=this,a=t.config,i='touch'===t.inputType;e.attr('class',function(e){return t.generateClass(c.default.legendItem,e)}).style('visibility',function(e){return t.isLegendToShow(e)?'visible':'hidden'}).style('cursor','pointer').on('click',function(e){(0,g.isFunction)(a.legend_item_onclick)?a.legend_item_onclick.call(t,e):n.event.altKey?(t.api.hide(),t.api.show(e)):(t.api.toggle(e),!i&&t.isTargetToShow(e)?t.api.focus(e):t.api.revert()),i&&t.hideTooltip()}),i||e.on('mouseout',function(e){(0,g.isFunction)(a.legend_item_onout)?a.legend_item_onout.call(t,e):((0,n.select)(this).classed(c.default.legendItemFocused,!1),t.api.revert())}).on('mouseover',function(e){(0,g.isFunction)(a.legend_item_onover)?a.legend_item_onover.call(t,e):((0,n.select)(this).classed(c.default.legendItemFocused,!0),!t.transiting&&t.isTargetToShow(e)&&t.api.focus(e))})},updateLegend:function(e,t,a){var i=this,n=i.config,s=10,r=n.legend_item_tile_width+5,d=0,o=0,u=0,p={},x={},h={},_=[0],f={},m=0,y=e.filter(function(e){return!(0,g.isDefined)(n.data_names[e])||null!==n.data_names[e]}),b=t||{},T=(0,g.getOption)(b,'withTransition',!0),v=(0,g.getOption)(b,'withTransitionForTransform',!0),A=function(e,t){return i.legendItemTextBox[t]||(i.legendItemTextBox[t]=i.getTextRect(e.textContent,c.default.legendItem,e)),i.legendItemTextBox[t]},w=function(e,t,a){var l=a===y.length-1,c=A(e,t),g=c.width+r+(l&&!(i.isLegendRight||i.isLegendInset)?0:10)+n.legend_padding,b=c.height+4,T=i.isLegendRight||i.isLegendInset?b:g,v=i.isLegendRight||i.isLegendInset?i.getLegendHeight():i.getLegendWidth(),w=function(e,t){t||(L=(v-u-T)/2,L<s&&(L=(v-T)/2,u=0,m++)),f[e]=m,_[m]=i.isLegendInset?10:L,p[e]=u,u+=T},L;if(0===a&&(u=0,m=0,d=0,o=0),n.legend_show&&!i.isLegendToShow(t))return x[t]=0,h[t]=0,f[t]=0,void(p[t]=0);x[t]=g,h[t]=b,(!d||g>=d)&&(d=g),(!o||b>=o)&&(o=b);var S=i.isLegendRight||i.isLegendInset?o:d;n.legend_equally?(Object.keys(x).forEach(function(e){return x[e]=d}),Object.keys(h).forEach(function(e){return h[e]=o}),L=(v-S*y.length)/2,L<s?(u=0,m=0,y.forEach(function(e){return w(e)})):w(t,!0)):w(t)},L,S,C;i.isLegendInset&&(m=n.legend_inset_step?n.legend_inset_step:y.length,i.updateLegendStep(m)),i.isLegendRight?(L=function(e){return d*f[e]},S=function(e){return _[f[e]]+p[e]}):i.isLegendInset?(L=function(e){return d*f[e]+10},S=function(e){return _[f[e]]+p[e]}):(L=function(e){return _[f[e]]+p[e]},S=function(e){return o*f[e]});var D=function(e,t){return L(e,t)+4+n.legend_item_tile_width},F=function(e,t){return S(e,t)+9},X=function(e,t){return L(e,t)},k=function(e,t){return S(e,t)-5},I=function(e,t){return L(e,t)-2},E=function(e,t){return L(e,t)-2+n.legend_item_tile_width},R=function(e,t){return S(e,t)+4},Y=i.legend.selectAll('.'+c.default.legendItem).data(y).enter().append('g');i.setLegendItem(Y),Y.append('text').text(function(e){return(0,g.isDefined)(n.data_names[e])?n.data_names[e]:e}).each(function(e,t){w(this,e,t)}).style('pointer-events','none').attr('x',i.isLegendRight||i.isLegendInset?D:-200).attr('y',i.isLegendRight||i.isLegendInset?-200:F),Y.append('rect').attr('class',c.default.legendItemEvent).style('fill-opacity','0').attr('x',i.isLegendRight||i.isLegendInset?X:-200).attr('y',i.isLegendRight||i.isLegendInset?-200:k),Y.append('line').attr('class',c.default.legendItemTile).style('stroke',i.color).style('pointer-events','none').attr('x1',i.isLegendRight||i.isLegendInset?I:-200).attr('y1',i.isLegendRight||i.isLegendInset?-200:R).attr('x2',i.isLegendRight||i.isLegendInset?E:-200).attr('y2',i.isLegendRight||i.isLegendInset?-200:R).attr('stroke-width',n.legend_item_tile_height),C=i.legend.select('.'+c.default.legendBackground+' rect'),i.isLegendInset&&0<d&&0===C.size()&&(C=i.legend.insert('g','.'+c.default.legendItem).attr('class',c.default.legendBackground).append('rect'));var l=i.legend.selectAll('text').data(y).text(function(e){return(0,g.isDefined)(n.data_names[e])?n.data_names[e]:e}).each(function(e,t){w(this,e,t)});(T?l.transition():l).attr('x',D).attr('y',F);var M=i.legend.selectAll('rect.'+c.default.legendItemEvent).data(y);(T?M.transition():M).attr('width',function(e){return x[e]}).attr('height',function(e){return h[e]}).attr('x',X).attr('y',k);var z=i.legend.selectAll('line.'+c.default.legendItemTile).data(y);(T?z.transition():z).style('stroke',i.color).attr('x1',I).attr('y1',R).attr('x2',E).attr('y2',R),C&&(T?C.transition():C).attr('height',i.getLegendHeight()-12).attr('width',d*(m+1)+10),i.legend.selectAll('.'+c.default.legendItem).classed(c.default.legendItemHidden,function(e){return!i.isTargetToShow(e)}),i.updateLegendItemWidth(d),i.updateLegendItemHeight(o),i.updateLegendStep(m),i.updateSizes(),i.updateScales(!T),i.updateSvgSize(),i.transformAll(v,a),i.legendHasRendered=!0}})},function(e,t,a){'use strict';var i=a(1),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(0);(0,s.extend)(n.default.prototype,{initTitle:function(){var e=this;e.title=e.svg.append('text').text(e.config.title_text).attr('class',e.CLASS.title)},redrawTitle:function(){var e=this;e.title.attr('x',e.xForTitle.bind(e)).attr('y',e.yForTitle.bind(e))},xForTitle:function(){var e=this,t=e.config,a=t.title_position||'left',i;return i=0<=a.indexOf('right')?e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width-t.title_padding.right:0<=a.indexOf('center')?(e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width)/2:t.title_padding.left,i},yForTitle:function(){var e=this;return e.config.title_padding.top+e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).height},getTitlePadding:function(){var e=this;return e.yForTitle()+e.config.title_padding.bottom}})},function(e,t,a){'use strict';var i=a(1),n=function(e){return e&&e.__esModule?e:{default:e}}(i),r=a(0);(0,r.extend)(n.default.prototype,{getClipPath:function(e){var t=0<=window.navigator.appVersion.toLowerCase().indexOf('msie 9.');return'url('+(t?'':document.URL.split('#')[0])+'#'+e+')'},appendClip:function(e,t){return e.append('clipPath').attr('id',t).append('rect')},getAxisClipX:function(e){var t=s(30,this.margin.left);return e?-(1+t):-(t-1)},getAxisClipY:function(e){return e?-20:-this.margin.top},getXAxisClipX:function(){var e=this;return e.getAxisClipX(!e.config.axis_rotated)},getXAxisClipY:function(){var e=this;return e.getAxisClipY(!e.config.axis_rotated)},getYAxisClipX:function(){var e=this;return e.config.axis_y_inner?-1:e.getAxisClipX(e.config.axis_rotated)},getYAxisClipY:function(){var e=this;return e.getAxisClipY(e.config.axis_rotated)},getAxisClipWidth:function(e){var t=this,a=s(30,t.margin.left),i=s(30,t.margin.right);return e?t.width+2+a+i:t.margin.left+20},getAxisClipHeight:function(e){return(e?this.margin.bottom:this.margin.top+this.height)+20},getXAxisClipWidth:function(){var e=this;return e.getAxisClipWidth(!e.config.axis_rotated)},getXAxisClipHeight:function(){var e=this;return e.getAxisClipHeight(!e.config.axis_rotated)},getYAxisClipWidth:function(){var e=this;return e.getAxisClipWidth(e.config.axis_rotated)+(e.config.axis_y_inner?20:0)},getYAxisClipHeight:function(){var e=this;return e.getAxisClipHeight(e.config.axis_rotated)}})},function(e,a,i){'use strict';function s(e){return e&&e.__esModule?e:{default:e}}var o=i(2),l=i(1),c=s(l),g=i(3),u=s(g),p=i(0);(0,p.extend)(c.default.prototype,{initPie:function(){var e=this,t=e.config;e.pie=(0,o.pie)().padAngle(t[t.data_type+'_padAngle']||0).value(function(e){return e.values.reduce(function(e,t){return e+t.value},0)}),t.data_order||e.pie.sort(null)},updateRadius:function(){var e=this,t=e.config,a=t.gauge_width||t.donut_width;e.radiusExpanded=d(e.arcWidth,e.arcHeight)/2,e.radius=0.95*e.radiusExpanded,e.innerRadiusRatio=a?(e.radius-a)/e.radius:0.6,e.innerRadius=e.hasType('donut')||e.hasType('gauge')?e.radius*e.innerRadiusRatio:0},updateArc:function(){var e=this;e.svgArc=e.getSvgArc(),e.svgArcExpanded=e.getSvgArcExpanded(),e.svgArcExpandedSub=e.getSvgArcExpanded(0.98)},updateAngle:function(e){var t=this,a=t.config,i=e,s=!1,r=0,d,o,l,c;return a?(t.pie(t.filterTargetsToShow(t.data.targets)).forEach(function(e){s||e.data.id!==i.data.id||(s=!0,i=e,i.index=r),r++}),isNaN(i.startAngle)&&(i.startAngle=0),isNaN(i.endAngle)&&(i.endAngle=i.startAngle),t.isGaugeType(i.data)&&(d=a.gauge_min,o=a.gauge_max,l=n*(a.gauge_fullCircle?2:1)/(o-d),c=i.value<d?0:i.value<o?i.value-d:o-d,i.startAngle=a.gauge_startingAngle,i.endAngle=i.startAngle+l*c),s?i:null):null},getSvgArc:function(){var e=this,t=(0,o.arc)().outerRadius(e.radius).innerRadius(e.innerRadius),a=function(a,i){if(i)return t(a);var n=e.updateAngle(a);return n?t(n):'M 0 0'};return a.centroid=t.centroid,a},getSvgArcExpanded:function(e){var t=this,a=(0,o.arc)().outerRadius(t.radiusExpanded*(e||1)).innerRadius(t.innerRadius);return function(e){var i=t.updateAngle(e);return i?a(i):'M 0 0'}},getArc:function(e,t,a){return a||this.isArcType(e.data)?this.svgArc(e,t):'M 0 0'},transformForArcLabel:function(e){var a=this,i=a.config,n=a.updateAngle(e),s='',r,d,o,l,c;return n&&!a.hasType('gauge')&&(r=this.svgArc.centroid(n),d=isNaN(r[0])?0:r[0],o=isNaN(r[1])?0:r[1],l=t(d*d+o*o),c=a.hasType('donut')&&i.donut_label_ratio?(0,p.isFunction)(i.donut_label_ratio)?i.donut_label_ratio(e,a.radius,l):i.donut_label_ratio:a.hasType('pie')&&i.pie_label_ratio?(0,p.isFunction)(i.pie_label_ratio)?i.pie_label_ratio(e,a.radius,l):i.pie_label_ratio:a.radius&&(l?(0.375<36/a.radius?1.175-36/a.radius:0.8)*a.radius/l:0),s='translate('+d*c+','+o*c+')'),s},getArcRatio:function(e){var t=this,a=t.config,i=n*(t.hasType('gauge')&&!a.gauge_fullCircle?1:2);return e?(e.endAngle-e.startAngle)/i:null},convertToArcData:function(e){return this.addName({id:e.data.id,value:e.value,ratio:this.getArcRatio(e),index:e.index})},textForArcLabel:function(e){var t=this;if(!t.shouldShowArcLabel())return'';var a=t.updateAngle(e),i=a?a.value:null,n=t.getArcRatio(a),s=e.data.id;if(!t.hasType('gauge')&&!t.meetsArcLabelThreshold(n))return'';var r=t.getArcLabelFormat();return r?r(i,n,s):t.defaultArcValueFormat(i,n)},textForGaugeMinMax:function(e,t){var a=this.getGaugeLabelExtents();return a?a(e,t):e},expandArc:function(e){var t=this,a;if(t.transiting)return void(a=window.setInterval(function(){t.transiting||(window.clearInterval(a),0<t.legend.selectAll('.bb-legend-item-focused').size()&&t.expandArc(e))},10));var i=t.mapToTargetIds(e);t.svg.selectAll(t.selectorTargets(i,'.'+u.default.chartArc)).each(function(e){t.shouldExpand(e.data.id)&&(0,o.select)(this).selectAll('path').transition().duration(t.expandDuration(e.data.id)).attr('d',t.svgArcExpanded).transition().duration(2*t.expandDuration(e.data.id)).attr('d',t.svgArcExpandedSub)})},unexpandArc:function(e){var t=this;if(!t.transiting){var a=t.mapToTargetIds(e);t.svg.selectAll(t.selectorTargets(a,'.'+u.default.chartArc)).selectAll('path').transition().duration(function(e){return t.expandDuration(e.data.id)}).attr('d',t.svgArc),t.svg.selectAll(''+u.default.arc).style('opacity','1')}},expandDuration:function(e){var t=this,a=t.config;return t.isDonutType(e)?a.donut_expand_duration:t.isGaugeType(e)?a.gauge_expand_duration:t.isPieType(e)?a.pie_expand_duration:50},shouldExpand:function(e){var t=this,a=t.config;return t.isDonutType(e)&&a.donut_expand||t.isGaugeType(e)&&a.gauge_expand||t.isPieType(e)&&a.pie_expand},shouldShowArcLabel:function(){var e=this,t=e.config,a=!0;return e.hasType('donut')?a=t.donut_label_show:e.hasType('pie')&&(a=t.pie_label_show),a},meetsArcLabelThreshold:function(e){var t=this,a=t.config,i=t.hasType('donut')?a.donut_label_threshold:a.pie_label_threshold;return e>=i},getArcLabelFormat:function(){var e=this,t=e.config,a=t.pie_label_format;return e.hasType('gauge')?a=t.gauge_label_format:e.hasType('donut')&&(a=t.donut_label_format),a},getGaugeLabelExtents:function(){var e=this.config;return e.gauge_label_extents},getArcTitle:function(){var e=this;return e.hasType('donut')?e.config.donut_title:''},updateTargetsForArc:function(e){var t=this,a=t.main,i=t.classChartArc.bind(t),n=t.classArcs.bind(t),s=t.classFocus.bind(t),r=a.select('.'+u.default.chartArcs).selectAll('.'+u.default.chartArc).data(t.pie(e)).attr('class',function(e){return i(e)+s(e.data)}),d=r.enter().append('g').attr('class',i);d.append('g').attr('class',n).merge(r),d.append('text').attr('dy',t.hasType('gauge')?'-.1em':'.35em').style('opacity','0').style('text-anchor','middle').style('pointer-events','none')},initArc:function(){var e=this;e.arcs=e.main.select('.'+u.default.chart).append('g').attr('class',u.default.chartArcs).attr('transform',e.getTranslate('arc')),e.setArcTitle()},setArcTitle:function(){var e=this,t=e.getArcTitle();if(t){var a=t.split('\n'),n=e.arcs.append('text').attr('class',u.default.chartArcsTitle).style('text-anchor','middle');if(1<a.length){var i=+n.style('font-size').replace('px',''),s=Math.floor(n.text('.').node().getBBox().height,n.text(''));a.forEach(function(e,t){return n.insert('tspan').text(e).attr('x',0).attr('dy',t?s:0)}),n.attr('y','-'+(i*(a.length-2)||i/2))}else n.text(t)}},redrawArc:function(e,t,a){function i(e,t,a){s.expandArc(a),s.api.focus(a),s.toggleFocusLegend(a,!0),s.showTooltip([t],e)}function n(e){var t=e&&e.id||void 0;s.unexpandArc(t),s.api.revert(),s.revertLegend(),s.hideTooltip()}var s=this,l=s.config,d=s.main,c='touch'===s.inputType,g='mouse'===s.inputType,p=d.selectAll('.'+u.default.arcs).selectAll('.'+u.default.arc).data(s.arcData.bind(s));if(p.exit().transition().duration(t).style('opacity','0').remove(),p=p.enter().append('path').attr('class',s.classArc.bind(s)).style('fill',function(e){return s.color(e.data)}).style('cursor',function(e){return l.interaction_enabled&&(l.data_selection_isselectable(e)?'pointer':null)}).style('opacity','0').each(function(e){s.isGaugeType(e.data)&&(e.startAngle=l.gauge_startingAngle,e.endAngle=l.gauge_startingAngle),this._current=e}).merge(p),p.attr('transform',function(e){return!s.isGaugeType(e.data)&&a?'scale(0)':''}).style('opacity',function(e){return e===this._current?'0':'1'}).each(function(){s.transiting=!0}).transition().duration(e).attrTween('d',function(e){var t=s.updateAngle(e);if(!t)return function(){return'M 0 0'};isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle);var a=(0,o.interpolate)(this._current,t);return this._current=a(0),function(i){var t=a(i);return t.data=e.data,s.getArc(t,!0)}}).attr('transform',a?'scale(1)':'').style('fill',function(e){return s.levelColor?s.levelColor(e.data.values[0].value):s.color(e.data.id)}).style('opacity','1').call(s.endall,function(){s.transiting=!1}),l.interaction_enabled&&(p.on('click',function(e,t){var a=s.updateAngle(e),i;a&&(i=s.convertToArcData(a),s.toggleShape&&s.toggleShape(this,i,t),s.config.data_onclick.call(s.api,i,this))}),g&&p.on('mouseover',function(e){if(!s.transiting){var t=s.updateAngle(e),a=t?s.convertToArcData(t):null,n=a&&a.id||void 0;i(this,a,n),s.config.data_onover(a,this)}}).on('mouseout',function(e){if(!s.transiting){var t=s.updateAngle(e),a=t?s.convertToArcData(t):null;n(),s.config.data_onout(a,this)}}).on('mousemove',function(e){var t=s.updateAngle(e),a=t?s.convertToArcData(t):null;s.showTooltip([a],this)}),c&&s.hasArcType())){var x=function(){var e=o.event.changedTouches[0],t=(0,o.select)(document.elementFromPoint(e.clientX,e.clientY));return t};s.svg.on('touchstart',function(){if(!s.transiting){var e=x(),t=e.datum(),a=t&&t.data&&t.data.id?s.updateAngle(t):null,r=a?s.convertToArcData(a):null,d=r&&r.id||void 0;d===void 0?n():i(this,r,d),s.config.data_onover(r,this)}}).on('touchend',function(){if(!s.transiting){var e=x(),t=e.datum(),a=t&&t.data&&t.data.id?s.updateAngle(t):null,r=a?s.convertToArcData(a):null,d=r&&r.id||void 0;d===void 0?n():i(this,r,d),s.config.data_onout(r,this)}}).on('touchmove',function(){var e=x(),t=e.datum(),a=t&&t.data&&t.data.id?s.updateAngle(t):null,r=a?s.convertToArcData(a):null,d=r&&r.id||void 0;d===void 0?n():i(this,r,d)})}var h=d.selectAll('.'+u.default.chartArc).select('text').style('opacity','0').attr('class',function(e){return s.isGaugeType(e.data)?u.default.gaugeValue:''});if(l.gauge_fullCircle&&h.attr('dy',''+r(s.radius/14)),h.text(s.textForArcLabel.bind(s)).attr('transform',s.transformForArcLabel.bind(s)).style('font-size',function(e){return s.isGaugeType(e.data)?r(s.radius/5)+'px':''}).transition().duration(e).style('opacity',function(e){return s.isTargetToShow(e.data.id)&&s.isArcType(e.data)?'1':'0'}),d.select('.'+u.default.chartArcsTitle).style('opacity',s.hasType('donut')||s.hasType('gauge')?'1':'0'),s.hasType('gauge')){var _=(l.gauge_fullCircle?-4:-1)*l.gauge_startingAngle;s.arcs.select('.'+u.default.chartArcsBackground).attr('d',function(){var e={data:[{value:l.gauge_max}],startAngle:l.gauge_startingAngle,endAngle:_};return s.getArc(e,!0,!0)}),s.arcs.select('.'+u.default.chartArcsGaugeUnit).attr('dy','.75em').text(l.gauge_label_show?l.gauge_units:''),l.gauge_label_show&&(s.arcs.select('.'+u.default.chartArcsGaugeMin).attr('dx',-1*(s.innerRadius+(s.radius-s.innerRadius)/(l.gauge_fullCircle?1:2))+'px').attr('dy','1.2em').text(s.textForGaugeMinMax(l.gauge_min,!1)),!l.gauge_fullCircle&&s.arcs.select('.'+u.default.chartArcsGaugeMax).attr('dx',s.innerRadius+(s.radius-s.innerRadius)/2+'px').attr('dy','1.2em').text(s.textForGaugeMinMax(l.gauge_max,!0)))}},initGauge:function(){var e=this,t=e.config,a=e.arcs;e.hasType('gauge')&&(a.append('path').attr('class',u.default.chartArcsBackground),a.append('text').attr('class',u.default.chartArcsGaugeUnit).style('text-anchor','middle').style('pointer-events','none'),t.gauge_label_show&&(a.append('text').attr('class',u.default.chartArcsGaugeMin).style('text-anchor','middle').style('pointer-events','none'),!t.gauge_fullCircle&&a.append('text').attr('class',u.default.chartArcsGaugeMax).style('text-anchor','middle').style('pointer-events','none')))},getGaugeLabelHeight:function(){return this.config.gauge_label_show?20:0}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),s=a(1),r=i(s),d=a(3),o=i(d),l=a(0);(0,l.extend)(r.default.prototype,{initRegion:function(){var e=this;e.region=e.main.append('g').attr('clip-path',e.clipPath).attr('class',o.default.regions)},updateRegion:function(e){var t=this,a=t.config;t.region.style('visibility',t.hasArcType()?'hidden':'visible'),t.mainRegion=t.main.select('.'+o.default.regions).selectAll('.'+o.default.region).data(a.regions),t.mainRegion.exit().transition().duration(e).style('opacity','0').remove(),t.mainRegion=t.mainRegion.enter().append('g').merge(t.mainRegion).attr('class',t.classRegion.bind(t)),t.mainRegion.append('rect').style('fill-opacity','0')},redrawRegion:function(e){var t=this,a=t.regionX.bind(t),i=t.regionY.bind(t),s=t.regionWidth.bind(t),r=t.regionHeight.bind(t),d=t.mainRegion.select('rect');return d=(e?d.transition():d).attr('x',a).attr('y',i).attr('width',s).attr('height',r),[(e?d.transition():d).style('fill-opacity',function(e){return(0,l.isValue)(e.opacity)?e.opacity:'0.1'}).on('end',function(){(0,n.select)(this.parentNode).selectAll('rect:not([x])').remove()})]},regionX:function(e){var t=this,a=t.config,i='y'===e.axis?t.y:t.y2,n;return n='y'===e.axis||'y2'===e.axis?a.axis_rotated?'start'in e?i(e.start):0:0:a.axis_rotated?0:'start'in e?t.x(t.isTimeSeries()?t.parseDate(e.start):e.start):0,n},regionY:function(e){var t=this,a=t.config,i='y'===e.axis?t.y:t.y2,n;return n='y'===e.axis||'y2'===e.axis?a.axis_rotated?0:'end'in e?i(e.end):0:a.axis_rotated?'start'in e?t.x(t.isTimeSeries()?t.parseDate(e.start):e.start):0:0,n},regionWidth:function(e){var t=this,a=t.config,i='y'===e.axis?t.y:t.y2,n=t.regionX(e),s;return s='y'===e.axis||'y2'===e.axis?a.axis_rotated?'end'in e?i(e.end):t.width:t.width:a.axis_rotated?t.width:'end'in e?t.x(t.isTimeSeries()?t.parseDate(e.end):e.end):t.width,s<n?0:s-n},regionHeight:function(e){var t=this,a=t.config,i=this.regionY(e),n='y'===e.axis?t.y:t.y2,s;return s='y'===e.axis||'y2'===e.axis?a.axis_rotated?t.height:'start'in e?n(e.start):t.height:a.axis_rotated?'end'in e?t.x(t.isTimeSeries()?t.parseDate(e.end):e.end):t.height:t.height,s<i?0:s-i},isRegionOnX:function(e){return!e.axis||'x'===e.axis}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),r=a(1),o=i(r),l=a(3),c=i(l),g=a(0);(0,g.extend)(o.default.prototype,{drag:function(e){var t=this,a=t.config,i=t.main;if(!t.hasArcType()&&a.data_selection_enabled&&(!a.zoom_enabled||t.zoom.altDomain)&&a.data_selection_multiple){var r=t.dragStart[0],o=t.dragStart[1],l=e[0],u=e[1],p=d(r,l),x=s(r,l),h=a.data_selection_grouped?t.margin.top:d(o,u),_=a.data_selection_grouped?t.height:s(o,u);i.select('.'+c.default.dragarea).attr('x',p).attr('y',h).attr('width',x-p).attr('height',_-h),i.selectAll('.'+c.default.shapes).selectAll('.'+c.default.shape).filter(function(e){return a.data_selection_isselectable(e)}).each(function(e,a){var i=(0,n.select)(this),s=i.classed(c.default.SELECTED),r=i.classed(c.default.INCLUDED),d=!1,o,l,u,f,m,y;if(i.classed(c.default.circle))o=1*i.attr('cx'),l=1*i.attr('cy'),m=t.togglePoint,d=p<o&&o<x&&h<l&&l<_;else if(i.classed(c.default.bar))y=(0,g.getPathBox)(this),o=y.x,l=y.y,u=y.width,f=y.height,m=t.togglePath,d=!(x<o||o+u<p)&&!(_<l||l+f<h);else return;d^r&&(i.classed(c.default.INCLUDED,!r),i.classed(c.default.SELECTED,!s),m.call(t,!s,i,e,a))})}},dragstart:function(e){var t=this,a=t.config;t.hasArcType()||!a.data_selection_enabled||(t.dragStart=e,t.main.select('.'+c.default.chart).append('rect').attr('class',c.default.dragarea).style('opacity','0.1'),t.dragging=!0)},dragend:function(){var e=this,t=e.config;e.hasArcType()||!t.data_selection_enabled||(e.main.select('.'+c.default.dragarea).transition().duration(100).style('opacity','0').remove(),e.main.selectAll('.'+c.default.shape).classed(c.default.INCLUDED,!1),e.dragging=!1)}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),s=a(1),r=i(s),d=a(3),o=i(d),l=a(0);(0,l.extend)(r.default.prototype,{selectPoint:function(e,t,a){var i=this,n=i.config,s=(n.axis_rotated?i.circleY:i.circleX).bind(i),d=(n.axis_rotated?i.circleX:i.circleY).bind(i),l=i.pointSelectR.bind(i);n.data_onselected.call(i.api,t,e.node()),i.main.select('.'+o.default.selectedCircles+i.getTargetSelectorSuffix(t.id)).selectAll('.'+o.default.selectedCircle+'-'+a).data([t]).enter().append('circle').attr('class',function(){return i.generateClass(o.default.selectedCircle,a)}).attr('cx',s).attr('cy',d).attr('stroke',function(){return i.color(t)}).attr('r',function(e){return 1.4*i.pointSelectR(e)}).transition().duration(100).attr('r',l)},unselectPoint:function(e,t,a){var i=this;i.config.data_onunselected.call(i.api,t,e.node()),i.main.select('.'+o.default.selectedCircles+i.getTargetSelectorSuffix(t.id)).selectAll('.'+o.default.selectedCircle+'-'+a).transition().duration(100).attr('r',0).remove()},togglePoint:function(e,t,a,n){e?this.selectPoint(t,a,n):this.unselectPoint(t,a,n)},selectPath:function(e,t){var a=this;a.config.data_onselected.call(a,t,e.node()),a.config.interaction_brighten&&e.transition().duration(100).style('fill',function(){return(0,n.rgb)(a.color(t)).brighter(0.75)})},unselectPath:function(e,t){var a=this;a.config.data_onunselected.call(a,t,e.node()),a.config.interaction_brighten&&e.transition().duration(100).style('fill',function(){return a.color(t)})},togglePath:function(e,t,a,n){e?this.selectPath(t,a,n):this.unselectPath(t,a,n)},getToggle:function(e,t){var a=this,i;return'circle'===e.nodeName?a.isStepType(t)?i=function(){}:i=a.togglePoint:'path'===e.nodeName&&(i=a.togglePath),i},toggleShape:function(e,t,a){var i=this,s=i.config,r=(0,n.select)(e),d=r.classed(o.default.SELECTED),l=i.getToggle(e,t).bind(i),c;if(s.data_selection_enabled&&s.data_selection_isselectable(t)){if(!s.data_selection_multiple){var g='.'+o.default.shapes;s.data_selection_grouped&&(g='.'+g+i.getTargetSelectorSuffix(t.id)),i.main.selectAll(''+g).selectAll('circle.'+o.default.shape).each(function(e,t){var a=(0,n.select)(this);a.classed(o.default.SELECTED)&&(c=a,l(!1,a.classed(o.default.SELECTED,!1),e,t))})}c&&c.node()===r.node()||(r.classed(o.default.SELECTED,!d),l(!d,r,t,a))}}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),s=a(1),r=i(s),d=a(3),o=i(d),l=a(0);(0,l.extend)(r.default.prototype,{initBrush:function(){var e=this;e.brush=e.config.axis_rotated?(0,n.brushY)():(0,n.brushX)();var t=function(){e.redrawForBrush()};e.brush.on('start',function(){'touch'===e.inputType&&e.hideTooltip(),t()}).on('brush',t),e.brush.update=function(){var t=this.extent()();return 0===t[1].filter(function(e){return isNaN(e)}).length&&e.context&&e.context.select('.'+o.default.brush).call(this),this},e.brush.scale=function(t,a){var i=e.svg.select('.bb-brush .overlay'),n=[[0,0]];t.range?n.push([t.range()[1],(a||!i.empty())&&~~i.attr('height')||60]):t.constructor===Array&&n.push(t),e.config.axis_rotated&&n.reverse(),this.extent(e.config.axis_x_extent||n),this.update()},e.brush.getSelection=function(){return e.context?e.context.select('.'+o.default.brush):(0,n.select)([])}},initSubchart:function(){var e=this,t=e.config,a=t.subchart_show?'visible':'hidden';e.context=e.svg.append('g').attr('transform',e.getTranslate('context'));var i=e.context;i.style('visibility',a),i.append('g').attr('clip-path',e.clipPathForSubchart).attr('class',o.default.chart),i.select('.'+o.default.chart).append('g').attr('class',o.default.chartBars),i.select('.'+o.default.chart).append('g').attr('class',o.default.chartLines),i.append('g').attr('clip-path',e.clipPath).attr('class',o.default.brush).call(e.brush),e.axes.subx=i.append('g').attr('class',o.default.axisX).attr('transform',e.getTranslate('subx')).attr('clip-path',t.axis_rotated?'':e.clipPathForXAxis).style('visibility',t.subchart_axis_x_show?a:'hidden')},updateTargetsForSubchart:function(e){var t=this,a=t.context,i=t.config,n=t.classChartBar.bind(t),s=t.classBars.bind(t),r=t.classChartLine.bind(t),d=t.classLines.bind(t),l=t.classAreas.bind(t);if(i.subchart_show){var c=a.select('.'+o.default.chartBars).selectAll('.'+o.default.chartBar).data(e).attr('class',n),g=c.enter().append('g').style('opacity','0').attr('class',n).merge(c);g.append('g').attr('class',s);var u=a.select('.'+o.default.chartLines).selectAll('.'+o.default.chartLine).data(e).attr('class',r),p=u.enter().append('g').style('opacity','0').attr('class',r).merge(u);p.append('g').attr('class',d),p.append('g').attr('class',l),a.selectAll('.'+o.default.brush+' rect').attr(i.axis_rotated?'width':'height',i.axis_rotated?t.width2:t.height2)}},updateBarForSubchart:function(e){var t=this;t.contextBar=t.context.selectAll('.'+o.default.bars).selectAll('.'+o.default.bar).data(t.barData.bind(t)),t.contextBar.exit().transition().duration(e).style('opacity','0').remove(),t.contextBar=t.contextBar.enter().append('path').attr('class',t.classBar.bind(t)).style('stroke','none').style('fill',t.color).merge(t.contextBar).style('opacity',t.initialOpacity.bind(t))},redrawBarForSubchart:function(e,t,a){var i;i=t?this.contextBar.transition(Math.random().toString()).duration(a):this.contextBar,i.attr('d',e).style('opacity','1')},updateLineForSubchart:function(e){var t=this;t.contextLine=t.context.selectAll('.'+o.default.lines).selectAll('.'+o.default.line).data(t.lineData.bind(t)),t.contextLine.exit().transition().duration(e).style('opacity','0').remove(),t.contextLine=t.contextLine.enter().append('path').attr('class',t.classLine.bind(t)).style('stroke',t.color).merge(t.contextLine).style('opacity',t.initialOpacity.bind(t))},redrawLineForSubchart:function(e,t,a){var i;i=t?this.contextLine.transition(Math.random().toString()).duration(a):this.contextLine,i.attr('d',e).style('opacity','1')},updateAreaForSubchart:function(e){var t=this;t.contextArea=t.context.selectAll('.'+o.default.areas).selectAll('.'+o.default.area).data(t.lineData.bind(t)),t.contextArea.exit().transition().duration(e).style('opacity','0').remove(),t.contextArea=t.contextArea.enter().append('path').attr('class',t.classArea.bind(t)).style('fill',t.color).style('opacity',function(){return t.orgAreaOpacity=(0,n.select)(this).style('opacity'),'0'}).merge(t.contextArea).style('opacity','0')},redrawAreaForSubchart:function(e,t,a){var i;i=t?this.contextArea.transition(Math.random().toString()).duration(a):this.contextArea,i.attr('d',e).style('fill',this.color).style('opacity',this.orgAreaOpacity)},redrawSubchart:function(e,t,a,i,s,r,d){var o=this,l=o.config;if(o.context.style('visibility',l.subchart_show?'visible':'hidden'),l.subchart_show&&(n.event&&'zoom'===n.event.type&&o.brush.update(),e)){o.brushEmpty()||o.brush.update();var c=o.generateDrawArea(s,!0),g=o.generateDrawBar(r,!0),u=o.generateDrawLine(d,!0);o.updateBarForSubchart(a),o.updateLineForSubchart(a),o.updateAreaForSubchart(a),o.redrawBarForSubchart(g,a,a),o.redrawLineForSubchart(u,a,a),o.redrawAreaForSubchart(c,a,a)}},redrawForBrush:function(){var e=this,t=e.x;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),e.config.subchart_onbrush.call(e.api,t.orgDomain())},transformContext:function(e,t){var a=this,i;t&&t.axisSubX?i=t.axisSubX:(i=a.context.select('.'+o.default.axisX),e&&(i=i.transition())),a.context.attr('transform',a.getTranslate('context')),i.attr('transform',a.getTranslate('subx'))},getDefaultExtent:function(){var e=this,t=e.config,a=(0,l.isFunction)(t.axis_x_extent)?t.axis_x_extent(e.getXDomain(e.data.targets)):t.axis_x_extent;return e.isTimeSeries()&&(a=[e.parseDate(a[0]),e.parseDate(a[1])]),a}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),r=a(1),d=i(r),o=a(3),l=i(o),c=a(0);(0,c.extend)(d.default.prototype,{initZoom:function(){var e=this,t=e.config,a;e.zoomScale=null,e.zoom=(0,n.zoom)().duration(0).on('start',function(){a=n.event.sourceEvent,e.zoom.altDomain=n.event.sourceEvent.altKey?e.x.orgDomain():null,t.zoom_onzoomstart.call(e.api,n.event.sourceEvent)}).on('zoom',function(){e.redrawForZoom.call(e)}).on('end',function(){var i=n.event.sourceEvent;i&&a.clientX===i.clientX&&a.clientY===i.clientY||(e.redrawEventRect(),e.updateZoom(),(0,c.isFunction)(t.zoom_onzoomend)&&t.zoom_onzoomend.call(e.api,e.x.orgDomain()))}),e.zoom.orgScaleExtent=function(){var a=t.zoom_extent?t.zoom_extent:[1,10];return[a[0],s(e.getMaxDataCount()/a[1],a[1])]},e.zoom.updateScaleExtent=function(){var t=(0,c.diffDomain)(e.x.orgDomain())/(0,c.diffDomain)(e.getZoomDomain()),a=this.orgScaleExtent();return this.scaleExtent([a[0]*t,a[1]*t]),this},e.zoom.updateTransformScale=function(t){var a=t.rescaleX(e.x);a.domain(e.trimXDomain(a.domain())),e.zoomScale=a,e.xAxis.scale(e.zoomScale),e.main.select('.'+l.default.eventRects).node().__zoom=t}},getZoomDomain:function(){var e=this,t=e.config,a=(0,n.min)([e.orgXDomain[0],t.zoom_x_min]),i=(0,n.max)([e.orgXDomain[1],t.zoom_x_max]);return[a,i]},updateZoom:function(){var e=this,t=e.config.zoom_enabled?e.zoom:function(){};if(e.zoomScale){var a=e.zoomScale.domain()[0],i=e.x.domain()[0];(a<=i||a-0.015<=i)&&(e.zoomScale=null,e.xAxis.scale(e.x))}e.main.select('.'+l.default.eventRects).call(t).on('dblclick.zoom',null)},redrawForZoom:function(){var e=this,t=e.config;if(t.zoom_enabled){var a=e.zoom,i=e.x,s=n.event,r=s.transform;return e.zoom.updateTransformScale(r),0===e.filterTargetsToShow(e.data.targets).length?void 0:'mousemove'===s.sourceEvent.type&&a.altDomain?(i.domain(a.altDomain),void r.scale(e.zoomScale).updateScaleExtent()):void(e.isCategorized()&&i.orgDomain()[0]===e.orgXDomain[0]&&i.domain([e.orgXDomain[0]-1e-10,i.orgDomain()[1]]),e.redraw({withTransition:!1,withY:t.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),'mousemove'===s.sourceEvent.type&&(e.cancelClick=!0),(0,c.isFunction)(t.zoom_onzoom)&&t.zoom_onzoom.call(e.api,i.orgDomain()))}}})},function(e,t,a){'use strict';var i=a(2),n=a(1),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a(0);(0,r.extend)(s.default.prototype,{generateColor:function(){var e=this,t=e.config,a=t.data_colors,n=t.data_color,s=[],o=(0,r.notEmpty)(t.color_pattern)?t.color_pattern:(0,i.scaleOrdinal)(i.schemeCategory10).range();return function(e){var t=e.id||e.data&&e.data.id||e,i;return a[t]instanceof Function?i=a[t](e):a[t]?i=a[t]:(0>s.indexOf(t)&&s.push(t),i=o[s.indexOf(t)%o.length],a[t]=i),n instanceof Function?n(i,e):i}},generateLevelColor:function(){var e=this,t=e.config,a=t.color_pattern,i=t.color_threshold,n='value'===i.unit,s=i.max||100,d=i.values&&i.values.length?i.values:[];return(0,r.notEmpty)(i)?function(e){for(var t=a[a.length-1],r=0,i;r<d.length;r++)if(i=n?e:100*e/s,i<d[r]){t=a[r];break}return t}:null}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(5),s=i(n),r=a(1),d=i(r),o=a(0),l=function(e,t,a){var i=e.config,n='axis_'+t+'_tick_format',s=i[n]?i[n]:e.defaultValueFormat;return s(a)};(0,o.extend)(d.default.prototype,{getYFormat:function(e){var t=this,a=t.yFormat,i=t.y2Format;return e&&!t.hasType('gauge')&&(a=t.defaultArcValueFormat,i=t.defaultArcValueFormat),function(e,n,s){var r='y2'===t.axis.getId(s)?i:a;return r.call(t,e,n)}},yFormat:function(e){return l(this,'y',e)},y2Format:function(e){return l(this,'y2',e)},defaultValueFormat:function(e){return(0,o.isValue)(e)?+e:''},defaultArcValueFormat:function(e,t){return(100*t).toFixed(1)+'%'},dataLabelFormat:function(e){var t=this,a=t.config.data_labels,i=function(e){return(0,o.isValue)(e)?+e:''},n;return n='function'===typeof a.format?a.format:'object'===(0,s.default)(a.format)?a.format[e]?!0===a.format[e]?i:a.format[e]:function(){return''}:i,n}})},function(e,t,a){'use strict';var i=a(1),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(0);(0,s.extend)(n.default.prototype,{hasCaches:function(e){for(var t=0;t<e.length;t++)if(!(e[t]in this.cache))return!1;return!0},addCache:function(e,t){this.cache[e]=this.cloneTarget(t)},getCaches:function(e){for(var t=[],a=0;a<e.length;a++)e[a]in this.cache&&t.push(this.cloneTarget(this.cache[e[a]]));return t}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(1),s=i(n),r=a(3),o=i(r),d=a(0);(0,d.extend)(s.default.prototype,{CLASS:o.default,generateClass:function(e,t){return' '+e+' '+(e+this.getTargetSelectorSuffix(t))},classText:function(e){return this.generateClass(o.default.text,e.index)},classTexts:function(e){return this.generateClass(o.default.texts,e.id)},classShape:function(e){return this.generateClass(o.default.shape,e.index)},classShapes:function(e){return this.generateClass(o.default.shapes,e.id)},classLine:function(e){return this.classShape(e)+this.generateClass(o.default.line,e.id)},classLines:function(e){return this.classShapes(e)+this.generateClass(o.default.lines,e.id)},classCircle:function(e){return this.classShape(e)+this.generateClass(o.default.circle,e.index)},classCircles:function(e){return this.classShapes(e)+this.generateClass(o.default.circles,e.id)},classBar:function(e){return this.classShape(e)+this.generateClass(o.default.bar,e.index)},classBars:function(e){return this.classShapes(e)+this.generateClass(o.default.bars,e.id)},classArc:function(e){return this.classShape(e.data)+this.generateClass(o.default.arc,e.data.id)},classArcs:function(e){return this.classShapes(e.data)+this.generateClass(o.default.arcs,e.data.id)},classArea:function(e){return this.classShape(e)+this.generateClass(o.default.area,e.id)},classAreas:function(e){return this.classShapes(e)+this.generateClass(o.default.areas,e.id)},classRegion:function(e,t){return this.generateClass(o.default.region,t)+' '+('class'in e?e.class:'')},classEvent:function(e){return this.generateClass(o.default.eventRect,e.index)},classTarget:function(e){var t=this.config.data_classes[e],a='';return t&&(a=' '+o.default.target+'-'+t),this.generateClass(o.default.target,e)+a},classFocus:function(e){return this.classFocused(e)+this.classDefocused(e)},classFocused:function(e){return' '+(0<=this.focusedTargetIds.indexOf(e.id)?o.default.focused:'')},classDefocused:function(e){return' '+(0<=this.defocusedTargetIds.indexOf(e.id)?o.default.defocused:'')},classChartText:function(e){return o.default.chartText+this.classTarget(e.id)},classChartLine:function(e){return o.default.chartLine+this.classTarget(e.id)},classChartBar:function(e){return o.default.chartBar+this.classTarget(e.id)},classChartArc:function(e){return o.default.chartArc+this.classTarget(e.data.id)},getTargetSelectorSuffix:function(e){return e||0===e?('-'+e).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,'-'):''},selectorTarget:function(e,t){return(t||'')+'.'+(o.default.target+this.getTargetSelectorSuffix(e))},selectorTargets:function(e,t){var a=this,i=e||[];return i.length?i.map(function(e){return a.selectorTarget(e,t)}):null},selectorLegend:function(e){return'.'+(o.default.legendItem+this.getTargetSelectorSuffix(e))},selectorLegends:function(e){var t=this;return e&&e.length?e.map(function(e){return t.selectorLegend(e)}):null}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),s=a(4),r=i(s),d=a(3),o=i(d),l=a(0);(0,l.extend)(r.default.prototype,{focus:function(e){var t=this.internal,a=t.mapToTargetIds(e),i=t.svg.selectAll(t.selectorTargets(a.filter(t.isTargetToShow,t)));this.revert(),this.defocus(),i.classed(o.default.focused,!0).classed(o.default.defocused,!1),t.hasArcType()&&t.expandArc(a),t.toggleFocusLegend(a,!0),t.focusedTargetIds=a,t.defocusedTargetIds=t.defocusedTargetIds.filter(function(e){return 0>a.indexOf(e)})},defocus:function(e){var t=this.internal,a=t.mapToTargetIds(e),i=t.svg.selectAll(t.selectorTargets(a.filter(t.isTargetToShow,t)));i.classed(o.default.focused,!1).classed(o.default.defocused,!0),t.hasArcType()&&t.unexpandArc(a),t.toggleFocusLegend(a,!1),t.focusedTargetIds=t.focusedTargetIds.filter(function(e){return 0>a.indexOf(e)}),t.defocusedTargetIds=a},revert:function(e){var t=this.internal,a=t.mapToTargetIds(e),i=t.svg.selectAll(t.selectorTargets(a));i.classed(o.default.focused,!1).classed(o.default.defocused,!1),t.hasArcType()&&t.unexpandArc(a),t.config.legend_show&&(t.showLegend(a.filter(t.isLegendToShow.bind(t))),t.legend.selectAll(t.selectorLegends(a)).filter(function(){return(0,n.select)(this).classed(o.default.legendItemFocused)}).classed(o.default.legendItemFocused,!1)),t.focusedTargetIds=[],t.defocusedTargetIds=[]}})},function(e,t,a){'use strict';var i=a(4),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(0);(0,s.extend)(n.default.prototype,{show:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},a=this.internal,i=a.mapToTargetIds(e);a.removeHiddenTargetIds(i);var n=a.svg.selectAll(a.selectorTargets(i));n.transition().style('opacity','1','important').call(a.endall,function(){n.style('opacity',null).style('opacity','1')}),t.withLegend&&a.showLegend(i),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},hide:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},a=this.internal,i=a.mapToTargetIds(e);a.addHiddenTargetIds(i);var n=a.svg.selectAll(a.selectorTargets(i));n.transition().style('opacity','0','important').call(a.endall,function(){n.style('opacity',null).style('opacity','0')}),t.withLegend&&a.hideLegend(i),a.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},toggle:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},a=this,i=this.internal;i.mapToTargetIds(e).forEach(function(e){i.isTargetToShow(e)?a.hide(e,t):a.show(e,t)})}})},function(e,t,a){'use strict';var i=a(2),n=a(4),s=function(e){return e&&e.__esModule?e:{default:e}}(n),r=a(0),d=function(e){var t=this.internal,a=e,n;if(a){if(t.isTimeSeries()&&(a=a.map(function(e){return t.parseDate(e)})),t.config.subchart_show){var s=t.zoomScale||t.x;t.brush.getSelection().call(t.brush.move,[s(a[0]),s(a[1])]),n=a}else{var r=t.x.orgDomain(),d=(r[1]-r[0])/(a[1]-a[0]),o=t.isTimeSeries()?0-d*t.x(a[0].getTime()):a[0]-d*t.x(a[0]);t.zoom.updateTransformScale(i.zoomIdentity.translate(o,0).scale(d)),n=t.zoomScale.domain()}t.redraw({withTransition:!0,withY:t.config.zoom_rescale,withDimension:!1}),t.config.zoom_onzoom.call(this,t.x.orgDomain())}else n=(t.zoomScale||t.x).domain();return n};d.enable=function(e){var t=this.internal;t.config.zoom_enabled=e,t.updateAndRedraw()},d.max=function(e){var t=this.internal,a=t.config;if(0===e||e)a.zoom_x_max=(0,i.max)([t.orgXDomain[1],e]);else return a.zoom_x_max},d.min=function(e){var t=this.internal,a=t.config;if(0===e||e)a.zoom_x_min=(0,i.min)([t.orgXDomain[0],e]);else return a.zoom_x_min},d.range=function(e){if(arguments.length)(0,r.isDefined)(e.max)&&this.domain.max(e.max),(0,r.isDefined)(e.min)&&this.domain.min(e.min);else return{max:this.domain.max(),min:this.domain.min()}},(0,r.extend)(s.default.prototype,{zoom:d,unzoom:function(){var e=this.internal;e.config.subchart_show?e.brush.getSelection().call(e.brush.move,null):e.zoom.updateTransformScale(i.zoomIdentity),e.redraw({withTransition:!0,withY:e.config.zoom_rescale})}})},function(e,t,a){'use strict';var i=a(4),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(0);(0,s.extend)(n.default.prototype,{load:function(e){var t=this.internal,a=t.config;return e.xs&&t.addXs(e.xs),'names'in e&&this.data.names(e.names),'classes'in e&&Object.keys(e.classes).forEach(function(t){a.data_classes[t]=e.classes[t]}),'categories'in e&&t.isCategorized()&&(a.axis_x_categories=e.categories),'axes'in e&&Object.keys(e.axes).forEach(function(t){a.data_axes[t]=e.axes[t]}),'colors'in e&&Object.keys(e.colors).forEach(function(t){a.data_colors[t]=e.colors[t]}),'cacheIds'in e&&t.hasCaches(e.cacheIds)?void t.load(t.getCaches(e.cacheIds),e.done):void('unload'in e?t.unload(t.mapToTargetIds('boolean'===typeof e.unload&&e.unload?null:e.unload),function(){return t.loadFromArgs(e)}):t.loadFromArgs(e))},unload:function(e){var t=this.internal,a=e||{};a instanceof Array?a={ids:a}:'string'===typeof a&&(a={ids:[a]}),t.unload(t.mapToTargetIds(a.ids),function(){t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),a.done&&a.done()})}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),s=a(4),r=i(s),d=a(1),o=i(d),l=a(0),c=a(3),g=i(c);(0,l.extend)(r.default.prototype,{flow:function(e){var a=this.internal,n=[],t=a.getMaxDataCount(),s=0,r=0,i,d,o,c;if(e.json)i=a.convertJsonToData(e.json,e.keys);else if(e.rows)i=a.convertRowsToData(e.rows);else if(e.columns)i=a.convertColumnsToData(e.columns);else return;var g=a.convertDataToTargets(i,!0);a.data.targets.forEach(function(e){var t=!1,d,i;for(d=0;d<g.length;d++)if(e.id===g[d].id){for(t=!0,e.values[e.values.length-1]&&(r=e.values[e.values.length-1].index+1),s=g[d].values.length,i=0;i<s;i++)g[d].values[i].index=r+i,a.isTimeSeries()||(g[d].values[i].x=r+i);e.values=e.values.concat(g[d].values),g.splice(d,1);break}t||n.push(e.id)}),a.data.targets.forEach(function(e){var t,i;for(t=0;t<n.length;t++)if(e.id===n[t])for(r=e.values[e.values.length-1].index+1,i=0;i<s;i++)e.values.push({id:e.id,index:r+i,x:a.isTimeSeries()?a.getOtherTargetX(r+i):r+i,value:null})}),a.data.targets.length&&g.forEach(function(e){var t=[],n;for(n=a.data.targets[0].values[0].index;n<r;n++)t.push({id:e.id,index:n,x:a.isTimeSeries()?a.getOtherTargetX(n):n,value:null});e.values.forEach(function(e){e.index+=r,a.isTimeSeries()||(e.x+=r)}),e.values=t.concat(e.values)}),a.data.targets=a.data.targets.concat(g);var u=a.data.targets[0],p=u.values[0];(0,l.isDefined)(e.to)?(s=0,c=a.isTimeSeries()?a.parseDate(e.to):e.to,u.values.forEach(function(e){e.x<c&&s++})):(0,l.isDefined)(e.length)&&(s=e.length),t?1===t&&a.isTimeSeries()&&(o=(u.values[u.values.length-1].x-p.x)/2,d=[new Date(+p.x-o),new Date(+p.x+o)],a.updateXDomain(null,!0,!0,!1,d)):(o=a.isTimeSeries()?1<u.values.length?u.values[u.values.length-1].x-p.x:p.x-a.getXDomain(a.data.targets)[0]:1,d=[p.x-o,p.x],a.updateXDomain(null,!0,!0,!1,d)),a.updateTargets(a.data.targets),a.redraw({flow:{index:p.index,length:s,duration:(0,l.isValue)(e.duration)?e.duration:a.config.transition_duration,done:e.done,orgDataCount:t},withLegend:!0,withTransition:1<t,withTrimXDomain:!1,withUpdateXAxis:!0})}}),(0,l.extend)(o.default.prototype,{generateFlow:function(e){var t=this,a=t.config;return function(){var i=e.targets,s=e.flow,r=e.drawBar,d=e.drawLine,o=e.drawArea,c=e.cx,u=e.cy,p=e.xv,x=e.xForText,h=e.yForText,_=e.duration,f=1,m=s.index,y=s.length,b=t.getValueOnIndex(t.data.targets[0].values,m),T=t.getValueOnIndex(t.data.targets[0].values,m+y),v=t.x.domain(),A=s.duration||_,w=s.done||function(){},L=t.generateWait(),S=t.xgrid||(0,n.selectAll)([]),C=t.xgridLines||(0,n.selectAll)([]),D=t.mainRegion||(0,n.selectAll)([]),F=t.mainText||(0,n.selectAll)([]),X=t.mainBar||(0,n.selectAll)([]),k=t.mainLine||(0,n.selectAll)([]),I=t.mainArea||(0,n.selectAll)([]),E=t.mainCircle||(0,n.selectAll)([]),R;t.flowing=!0,t.data.targets.forEach(function(e){e.values.splice(0,y)});var Y=t.updateXDomain(i,!0,!0);t.updateXGrid&&t.updateXGrid(!0),s.orgDataCount?1===s.orgDataCount||(b&&b.x)===(T&&T.x)?R=t.x(v[0])-t.x(Y[0]):t.isTimeSeries()?R=t.x(v[0])-t.x(Y[0]):R=t.x(b.x)-t.x(T.x):1===t.data.targets[0].values.length?t.isTimeSeries()?(b=t.getValueOnIndex(t.data.targets[0].values,0),T=t.getValueOnIndex(t.data.targets[0].values,t.data.targets[0].values.length-1),R=t.x(b.x)-t.x(T.x)):R=(0,l.diffDomain)(Y)/2:R=t.x(v[0])-t.x(Y[0]),f=(0,l.diffDomain)(v)/(0,l.diffDomain)(Y);var M='translate('+R+',0) scale('+f+',1)';t.hideXGridFocus();var z=(0,n.transition)().ease(n.easeLinear).duration(A);L.add([t.axes.x.transition(z).call(t.xAxis.setTransition(z)),X.transition(z).attr('transform',M),k.transition(z).attr('transform',M),I.transition(z).attr('transform',M),E.transition(z).attr('transform',M),F.transition(z).attr('transform',M),D.filter(t.isRegionOnX).transition(z).attr('transform',M),S.transition(z).attr('transform',M),C.transition(z).attr('transform',M)]),z.call(L,function(){var e=[],n=[],s=[],l;if(y){for(l=0;l<y;l++)e.push('.'+g.default.shape+'-'+(m+l)),n.push('.'+g.default.text+'-'+(m+l)),s.push('.'+g.default.eventRect+'-'+(m+l));t.svg.selectAll('.'+g.default.shapes).selectAll(e).remove(),t.svg.selectAll('.'+g.default.texts).selectAll(n).remove(),t.svg.selectAll('.'+g.default.eventRects).selectAll(s).remove(),t.svg.select('.'+g.default.xgrid).remove()}S.size()&&S.attr('transform',null).attr(t.xgridAttr),C.attr('transform',null),C.select('line').attr('x1',a.axis_rotated?0:p).attr('x2',a.axis_rotated?t.width:p),C.select('text').attr('x',a.axis_rotated?t.width:0).attr('y',p),X.attr('transform',null).attr('d',r),k.attr('transform',null).attr('d',d),I.attr('transform',null).attr('d',o),E.attr('transform',null).attr('cx',c).attr('cy',u),F.attr('transform',null).attr('x',x).attr('y',h).style('fill-opacity',t.opacityForText.bind(t)),D.attr('transform',null),D.select('rect').filter(t.isRegionOnX).attr('x',t.regionX.bind(t)).attr('width',t.regionWidth.bind(t)),a.interaction_enabled&&t.redrawEventRect(),w(),t.flowing=!1})}}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(2),s=a(4),r=i(s),o=a(0),d=a(3),l=i(d);(0,o.extend)(r.default.prototype,{selected:function(e){var t=this.internal,a=[];return t.main.selectAll('.'+(l.default.shapes+t.getTargetSelectorSuffix(e))).selectAll('.'+l.default.shape).filter(function(){return(0,n.select)(this).classed(l.default.SELECTED)}).each(function(e){return a.push(e)}),a},select:function(e,t,a){var s=this.internal,r=s.config;r.data_selection_enabled&&s.main.selectAll('.'+l.default.shapes).selectAll('.'+l.default.shape).each(function(c,d){var i=(0,n.select)(this),g=c.data?c.data.id:c.id,u=s.getToggle(this,c).bind(s),p=r.data_selection_grouped||!e||0<=e.indexOf(g),x=!t||0<=t.indexOf(d),h=i.classed(l.default.SELECTED);i.classed(l.default.line)||i.classed(l.default.area)||(p&&x?r.data_selection_isselectable(c)&&!h&&u(!0,i.classed(l.default.SELECTED,!0),c,d):(0,o.isDefined)(a)&&a&&h&&u(!1,i.classed(l.default.SELECTED,!1),c,d))})},unselect:function(e,t){var a=this.internal,s=a.config;s.data_selection_enabled&&a.main.selectAll('.'+l.default.shapes).selectAll('.'+l.default.shape).each(function(r,d){var i=(0,n.select)(this),o=r.data?r.data.id:r.id,c=a.getToggle(this,r).bind(a),g=s.data_selection_grouped||!e||0<=e.indexOf(o),u=!t||0<=t.indexOf(d),p=i.classed(l.default.SELECTED);i.classed(l.default.line)||i.classed(l.default.area)||g&&u&&s.data_selection_isselectable(r)&&p&&c(!1,i.classed(l.default.SELECTED,!1),r,d)})}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(4),s=i(n),r=a(1),d=i(r),o=a(0);(0,o.extend)(s.default.prototype,{transform:function(e,t){var a=this.internal,i=0<=['pie','donut'].indexOf(e)?{withTransform:!0}:null;a.transformTo(t,e,i)}}),(0,o.extend)(d.default.prototype,{transformTo:function(e,t,a){var i=this,n=!i.hasArcType(),s=a||{withTransitionForAxis:n};s.withTransitionForTransform=!1,i.transiting=!1,i.setTargetType(e,t),i.updateTargets(i.data.targets),i.updateAndRedraw(s)}})},function(e,t,a){'use strict';var i=a(4),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(0);(0,s.extend)(n.default.prototype,{groups:function(e){var t=this.internal,a=t.config;return(0,s.isUndefined)(e)?a.data_groups:(a.data_groups=e,t.redraw(),a.data_groups)}})},function(e,t,a){'use strict';var i=a(4),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(0),r=function(e){var t=this.internal,a=t.config;return e?(a.grid_x_lines=e,t.redrawWithoutRescale(),a.grid_x_lines):a.grid_x_lines};r.add=function(e){return this.xgrids(this.internal.config.grid_x_lines.concat(e||[]))},r.remove=function(e){this.internal.removeGridLines(e,!0)};var d=function(e){var t=this.internal,a=t.config;return e?(a.grid_y_lines=e,t.redrawWithoutRescale(),a.grid_y_lines):a.grid_y_lines};d.add=function(e){return this.ygrids(this.internal.config.grid_y_lines.concat(e||[]))},d.remove=function(e){this.internal.removeGridLines(e,!1)},(0,s.extend)(n.default.prototype,{xgrids:r,ygrids:d})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(4),s=i(n),r=a(3),d=i(r),o=a(0),l=function(e){var t=this.internal,a=t.config;return e?(a.regions=e,t.redrawWithoutRescale(),a.regions):a.regions};l.add=function(e){var t=this.internal,a=t.config;return e?(a.regions=a.regions.concat(e),t.redrawWithoutRescale(),a.regions):a.regions},l.remove=function(e){var t=this.internal,a=t.config,i=e||{},n=t.getOption(i,'duration',a.transition_duration),s=t.getOption(i,'classes',[d.default.region]),r=t.main.select('.'+d.default.regions).selectAll(s.map(function(e){return'.'+e}));return(n?r.transition().duration(n):r).style('opacity','0').remove(),a.regions=a.regions.filter(function(e){var t=!1;return!e.class||(e.class.split(' ').forEach(function(e){0<=s.indexOf(e)&&(t=!0)}),!t)}),a.regions},(0,o.extend)(s.default.prototype,{regions:l})},function(e,t,a){'use strict';var i=a(4),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(0),r=function(e){var t=this.internal.data.targets;return'undefined'===typeof e?t:t.filter(function(a){return 0<=e.indexOf(a.id)})};r.shown=function(e){return this.internal.filterTargetsToShow(this.data(e))},r.values=function(e){var t=null;if(e){var a=this.data(e);a&&a[0]&&(t=a[0].values.map(function(e){return e.value}))}return t},r.names=function(e){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes('names',e)},r.colors=function(e){return this.internal.updateDataAttributes('colors',e)},r.axes=function(e){return this.internal.updateDataAttributes('axes',e)},(0,s.extend)(n.default.prototype,{data:r})},function(e,t,a){'use strict';var i=a(4),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(0);(0,s.extend)(n.default.prototype,{category:function(e,t){var a=this.internal,i=a.config;return 1<arguments.length&&(i.axis_x_categories[e]=t,a.redraw()),i.axis_x_categories[e]},categories:function(e){var t=this.internal,a=t.config;return arguments.length?(a.axis_x_categories=e,t.redraw(),a.axis_x_categories):a.axis_x_categories}})},function(e,t,a){'use strict';var i=a(4),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(0);(0,s.extend)(n.default.prototype,{color:function(e){var t=this.internal;return t.color(e)}})},function(e,t,a){'use strict';var i=a(4),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(0);(0,s.extend)(n.default.prototype,{x:function(e){var t=this.internal;return arguments.length&&(t.updateTargetX(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},xs:function(e){var t=this.internal;return arguments.length&&(t.updateTargetXs(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs}})},function(e,t,a){'use strict';function i(e){return e&&e.__esModule?e:{default:e}}var n=a(5),s=i(n),r=a(4),d=i(r),o=a(0),l=function(e,t,a){var i=e.config,n='axis_y_'+t,r='axis_y2_'+t;return'undefined'!==typeof a&&('object'===('undefined'===typeof a?'undefined':(0,s.default)(a))?((0,o.isValue)(a.x)&&(i['axis_x_'+t]=a.x),(0,o.isValue)(a.y)&&(i[n]=a.y),(0,o.isValue)(a.y2)&&(i[r]=a.y2)):(i[n]=a,i[r]=a),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),void 0},c=function(e,t){var a=e.config;return{x:a['axis_x_'+t],y:a['axis_y_'+t],y2:a['axis_y2_'+t]}},g=function(){};g.labels=function(e){var t=this.internal;arguments.length&&(Object.keys(e).forEach(function(a){t.axis.setLabelText(a,e[a])}),t.axis.updateLabels())},g.min=function(e){return arguments.length?l(this.internal,'min',e):c(this.internal,'min')},g.max=function(e){return arguments.length?l(this.internal,'max',e):c(this.internal,'max')},g.range=function(e){if(arguments.length)(0,o.isDefined)(e.max)&&this.axis.max(e.max),(0,o.isDefined)(e.min)&&this.axis.min(e.min);else return{max:this.axis.max(),min:this.axis.min()}},(0,o.extend)(d.default.prototype,{axis:g})},function(e,t,a){'use strict';var i=a(4),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(0),r=function(){};r.show=function(e){var t=this.internal;t.showLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},r.hide=function(e){var t=this.internal;t.hideLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},(0,s.extend)(n.default.prototype,{legend:r})},function(e,t,a){'use strict';var i=a(4),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(58),r=a(0);(0,r.extend)(n.default.prototype,{resize:function(e){var t=this.internal.config;t.size_width=e?e.width:null,t.size_height=e?e.height:null,this.flush()},flush:function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},destroy:function(){var e=this.internal;return s.window.clearInterval(e.intervalForObserveInserted),e.resizeTimeout!==void 0&&s.window.clearTimeout(e.resizeTimeout),(0,r.removeEvent)(s.window,'resize',e.resizeFunction),e.selectChart.classed('bb',!1).html(''),Object.keys(e).forEach(function(t){e[t]=null}),null}})},function(e,t){'use strict';t.__esModule=!0;var a='undefined'!==typeof window&&window.Math===Math?window:'undefined'!==typeof self&&self.Math===Math?self:Function('return this')();t.window=a;t.document=a.document},function(e,t,a){'use strict';var i=a(4),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(0),r=function(){};r.show=function(e){var t=this.internal,a,i;e.mouse&&(i=e.mouse),e.data?t.isMultipleX()?(i=[t.x(e.data.x),t.getYScale(e.data.id)(e.data.value)],a=null):a=(0,s.isValue)(e.data.index)?e.data.index:t.getIndexByX(e.data.x):'undefined'===typeof e.x?'undefined'!==typeof e.index&&(a=e.index):a=t.getIndexByX(e.x),t.dispatchEvent('mouseover',a,i),t.dispatchEvent('mousemove',a,i),t.config.tooltip_onshow.call(t,e.data)},r.hide=function(){this.internal.dispatchEvent('mouseout',0),this.internal.config.tooltip_onhide.call(this)},(0,s.extend)(n.default.prototype,{tooltip:r})},function(e,t,a){'use strict';var i=a(1),n=function(e){return e&&e.__esModule?e:{default:e}}(i),s=a(0);(0,s.extend)(n.default.prototype,{isSafari:function(){var e=window.navigator.userAgent;return 0<=e.indexOf('Safari')&&0>e.indexOf('Chrome')},isChrome:function(){return 0<=window.navigator.userAgent.indexOf('Chrome')}})}])});