<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

  <title>billboard-charts demo</title>



</head>

<body>
  <div>
    <script src="https://unpkg.com/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
    <script type="module" src="https://unpkg.com/xtal-json-editor@0.0.29/xtal-json-editor.js"></script>
    <script type="module" src="https://unpkg.com/xtal-json-merge@0.2.28/json-merge.js"></script>
    <script type="module" src="https://unpkg.com/p-d.p-u@0.0.94/dist/p-d.iife.js"></script>
    <script src="../billboard-charts.js"></script>
    <h3>Basic billboard-charts demo</h3>
    Click on a data point to see the data element below.
    <xtal-insert-json delay="1000" pass-thru-on-init input="{}">
      <script type="application/json">
            [
              {
                "data": {
                  "columns": [
                    [
                      "Bodak Yellow (Money Moves)",
                      30,
                      200,
                      100,
                      400,
                      150,
                      250
                    ],
                    [
                      "Wild Thoughts",
                      50,
                      20,
                      10,
                      40,
                      15,
                      25
                    ]
                  ]
                }
              }
            ]
          </script>
    </xtal-insert-json>
    <p-d on="merged-prop-changed" to="billboard-charts" prop="data" m="1"></p-d>
    <xtal-insert-json delay="2000" input="{}">
      <script type="application/json">
            [
              {
                "columns": [
                  ["Despacito", 230, 190, 300, 500, 300, 400]
                ]
              }
            ]
          </script>
    </xtal-insert-json>
    <p-d on="merged-prop-changed" to="billboard-charts"  prop="newData" m="1"></p-d>
    <xtal-insert-json delay="3500" input="{}">
      <script type="application/json">
                  [
                    {
                      "columns": [
                        ["Believer", 130, 150, 200, 300, 200, 100]
                      ]
                    }
                  ]
                </script>
    </xtal-insert-json>
    <p-d on="merged-prop-changed" to="billboard-charts" prop="newData" m="1"></p-d>
    <xtal-insert-json delay="6500" input="{}">
      <script type="application/json">
            [
              {
                "ids": "Bodak Yellow (Money Moves)"
              }
            ]
          </script>
    </xtal-insert-json>
    <p-d on="merged-prop-changed" prop="staleData" m="1"></p-d>
    <billboard-charts publish selected-element="{{selectedDataPoint}}"></billboard-charts>
    <p-d on="selected-element-changed" prop="input"></p-d>
    <xtal-json-editor options="{}" height="300px"></xtal-json-editor>
    <xtal-insert-json input="[]">
      <script type="application/json">
            [
              {
                "data": {
                  "columns": [
                    ["data", 91.4]
                  ],
                  "type": "gauge"
                },
                "gauge": {},
                "color": {
                  "pattern": [
                    "#FF0000",
                    "#F97600",
                    "#F6C600",
                    "#60B044"
                  ],
                  "threshold": {
                    "values": [
                      30,
                      60,
                      90,
                      100
                    ]
                  }
                },
                "size": {
                  "height": 180
                },
                "bindto": "#GaugeChart"
              }
            ]
          </script>
    </xtal-insert-json>
    <p-d on="merged-prop-changed" prop="data"></p-d>
    <billboard-charts  publish selected-element="{{selectedDataPoint}}"></billboard-charts>
    <br>


  </div>
</body>

</html>